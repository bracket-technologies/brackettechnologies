{
  "view": "View:collections",
  "children": [
    {
      "view": "[View]:[data=data:().editor.project.datastore.collections;mount]?style:[width=100%]?data()",
      "children": [
        {
          "view": "View:[data()]?class=flex pointer align-center;hover.style.backgroundColor=#e9e9e9;style:[minHeight=3rem;width=100%;position=relative];click:[searchForDocs()];mouseenter:[displayOptionsIcons()];mouseleave:[hideOptionsIcons()]",
          "children": [
            {
              "view": "Icon?name=bi-chevron-right;style:[fontSize=1.3rem;width=2.25rem;transition=.2s;transform='rotate(0deg)']"
            },
            {
              "view": "Text?class=dots;text=data();style.fontSize=1.3rem"
            },
            {
              "view": "Icon?tooltip.text=create new doc;name=bi-plus;style:[backgroundColor=inherit;display=none;color=#000;fontSize=1.9rem;position=absolute;right=2.5rem;height=2rem;width=2rem;borderRadius=.25rem];hover.style.color=blue;click:[createNewDocRequest():[head-collection=collections;collection=().data]]"
            },
            {
              "view": "Icon?name=bi-three-dots-vertical;style:[backgroundColor=inherit;display=none;color=#000;fontSize=1.9rem;position=absolute;right=.5rem;height=2rem;width=2rem;borderRadius=.25rem];hover.style.color=blue;droplist:[items=:[icon='bi-trash'];item.style:[fontSize=2rem];placement=right;align=center];[click:dorplist?removeCollection():[collection=data()]]"
            },
            {
              "view": "View?tooltip.text=import collection doc;style:[display=none;backgroundColor=inherit;position=absolute;right=4.5rem;height=2rem;width=2rem;borderRadius=.25rem;overflow=hidden]",
              "children": [
                {
                  "view": "Icon?name=bi-download;style:[color=#000;fontSize=1.5rem];hover.color=blue"
                },
                {
                  "view": "Input?input.type=file;style:[opacity=0;height=10rem;width=10rem;position=absolute;zIndex=1];[change?importDocInPrivateCollection()]"
                }
              ]
            }
          ]
        },
        {
          "view": "View:[data()+'-list']?class=flex column;style:[marginLeft=1.2rem;borderLeft=1px solid #ddd;#display=none]",
          "children": [
            {
              "view": "[View]:[data=data:().editor.collections.[parent().data()].keys();mount]?class=flex pointer align-center;style:[minHeight=3rem;width=100%;position=relative];loaded:[loadedHandler()];click:[displayRelatedDoc();openRelatedDoc()];mouseenter:[showOptionIcon()];mouseleave:[hideOptionIcon()]?data()||[!open-doc:();open-collection:()='collection-'+parent().data()]",
              "children": [
                {
                  "view": "Icon?name=bi-file-earmark;style.fontSize=1.3rem;style.minWidth=2.25rem;click:[2ndNext().focus()]"
                },
                {
                  "view": "Text?class=dots;text=data();style.fontSize=1.3rem"
                },
                {
                  "view": "Input?class=dots;input.value=data();preventDefault;input.style.padding=0;style:[fontSize=1.3rem;border=0;height=3rem;padding=0;display=none;width='calc(100% - 2.25rem)'];mouseenter:[next().style().display=flex];mouseleave:[next().style().display=none];blur:[blurEdit()];keyup:[escapeEdit();issueInDocName();createCollectionDoc()]"
                },
                {
                  "view": "Icon?open-doc=data();open-collection='collection-'+2ndParent().data();name='bi-three-dots-vertical';style:[fontSize=1.8rem;width=2rem;height=3rem;position=absolute;right=0;display=none;backgroundColor=#e9e9e9;borderRadius=.25rem];hover.style.color=blue;click:[showOptionsHandler()]"
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "creationDate": 1710235618574,
  "__props__": {
    "db": "views",
    "collection": "d17770q8A8Z7l0Q0l031g188q9",
    "id": "i1b7V150m2w4A6s3T4w956l7F9",
    "doc": "collections",
    "creationDate": 1710246349679,
    "active": true,
    "createdBy": "41V7H078W8I8I780z1m9Y2E4Y2",
    "actions": {
      "createCollectionDoc": "createEditDoc():[collection=2ndParent().data();list=2ndParent().data()+'-list';head-collection=collections]?e().key=Enter||e().key=Tab;txt();txt()!=publics;txt()!=open-doc:();!data:().editor.collections.[2ndParent().data()].keys().inc():txt();!txt().inc():' '",
      "importDocInPrivateCollection": {
        "existenceNote": "note():[text=Document name already exists!;danger]",
        "saveDoc": "loader.show;open-map:()=_.data.data;save():[collection='collection-'+open-collection:();data=open-map:();doc=open-doc:();headers.project=project:()]:[note():[text=File has been created!];data:().editor.collections.[open-collection:()].[open-doc:()]=open-map:();():[data()+'-list'].update();loader.hide]",
        "_": "open-collection:()=data();read():[data=file();type=json]:[open-doc:()=_.data.name.split():'.json'.0;if():[!data:().editor.collections.[open-collection:()].[open-doc:()]]:[saveDoc()]:[existenceNote()]]"
      },
      "displayRelatedDoc": "displayOpenedDoc():[collection=parent().data();head-collection=collections]?open-docs:().inc():['data/'+parent().data()+'/'+().data]",
      "showOptionsHandler": "showActionPopup():[collection=2ndParent().data();head-collection=collections;list=2ndParent().data()+'-list']",
      "issueInDocName": "problemEditingCreateDoc():[view=2ndParent().data();collection=2ndParent().data();head-collection=collections]?e().key=Enter||e().key=Tab;txt()=publics;data:().editor.collections.[2ndParent().data()].keys().inc():txt()||!txt()||txt().inc():",
      "hideOptionsIcons": "lastChild().style().display=none;2ndLastChild().style().display=none;3rdLastChild().style().display=none",
      "hideOptionIcon": "lastChild().style().display=none;style().backgroundColor=inherit",
      "blurEdit": "cancelEditCreateDoc():[view=2ndParent().data();collection=2ndParent().data();head-collection=collections]?!parent().contains():[clicked()]",
      "showOptionIcon": "style().backgroundColor=#e9e9e9;lastChild().style().display=flex?3rdChild().style().display=none",
      "searchForDocs": "searchDocs():[head-collection=collections;collection=data();list=().data+'-list']?!3rdChild().contains():[clicked()];!lastChild().contains():[clicked()];!2ndLastChild().contains():[clicked()]",
      "displayOptionsIcons": "3rdLastChild().style().display=flex;2ndLastChild().style().display=flex;lastChild().style().display=flex?1stChild().style().transform='rotate(90deg)'",
      "loadedHandler": "if():[new-file-created:();mapIndex=data:().editor.collections.[parent().data()].keys().len()-1]:[new-file-created:().del();parent().style().display=flex;parent().prev().1stChild().style().transform='rotate(90deg)';click()]",
      "escapeEdit": "cancelEditCreateDoc():[view=2ndParent().data();collection=2ndParent().data();head-collection=collections]?e().key=Escape",
      "openRelatedDoc": "openDoc():[collection=parent().data();head-collection=collections]?!lastChild().contains():[clicked()];!2ndLastChild().contains():[clicked()];!3rdChild().contains():[clicked()];!1stChild().contains():[clicked()];!open-docs:().inc():['data/'+parent().data()+'/'+data()]"
    },
    "collapsed": [
      {
        "path": [
          "children",
          0,
          "children",
          0
        ]
      },
      {
        "path": [
          "importDocInPrivateCollection"
        ]
      }
    ],
    "comments": [
      {
        "note": "collection folder",
        "path": [
          "children",
          0,
          "children",
          0
        ]
      },
      {
        "note": "collection docs",
        "path": [
          "children",
          0,
          "children",
          1
        ]
      }
    ],
    "folderPath": [],
    "version": 0,
    "projectID": "K1x7d0l898q817C0w1W9c2j4d6"
  }
}