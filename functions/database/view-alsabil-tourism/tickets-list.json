{
  "creation-date": 1655930948086,
  "id": "tickets-list",
  "type": "View?id=tickets-list;class=flex column;style:[width=100%;padding=1rem;backgroundColor=#fff;overflowY=auto]",
  "children": [
    {
      "children": [
        {
          "children": [
            {
              "type": "View?class=grid align-center;style:[borderBottom=1px solid #ddd;gridTemplateColumns=3rem .75fr 1.25fr 10rem 20rem 5fr 8rem 10rem 10rem .75fr .75fr;height=4rem;width=100%]",
              "children": [
                {
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                  "children": [
                    {
                      "type": "Text?class=pointer;text=#;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                    }
                  ]
                },
                {
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                  "children": [
                    {
                      "type": "Text?class=pointer;text=PNR;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444",
                      "controls": [
                        {
                          "event": "click?loader.show;timer():[tickets:()=sort():[data=tickets:();path=pnr;descending];update():tickets-list-data;loader.hide]:50"
                        }
                      ]
                    }
                  ]
                },
                {
                  "children": [
                    {
                      "type": "Text?class=pointer;text=E-Ticket;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444",
                      "controls": [
                        {
                          "event": "click?loader.show;timer():[tickets:()=sort():[data=tickets:();path=e-ticket;descending];update():tickets-list-data;loader.hide]:50"
                        }
                      ]
                    }
                  ],
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]"
                },
                {
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                  "children": [
                    {
                      "controls": [
                        {
                          "event": "click?loader.show;timer():[tickets:()=sort():[data=tickets:();path=creation-date;descending];update():tickets-list-data;loader.hide]:50"
                        }
                      ],
                      "type": "Text?class=pointer;text=Creation Date;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                    }
                  ]
                },
                {
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                  "children": [
                    {
                      "type": "Text?class=pointer;text=Passenger Name;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444",
                      "controls": [
                        {
                          "event": "click?loader.show;timer():[tickets:()=sort():[data=tickets:();path='reservation-details.0.first-name+ +reservation-details.0.last-name';descending];update():[tickets-list-data];loader.hide]:50"
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "View?class=grid align-center;style:[gridTemplateColumns=1fr 1fr 4rem 4rem]",
                  "children": [
                    {
                      "children": [
                        {
                          "controls": [
                            {
                              "event": "click?loader.show;timer():[tickets:()=sort():[data=tickets:();path=reservation-details.0.departure-airport;descending];update():tickets-list-data;loader.hide]:50"
                            }
                          ],
                          "type": "Text?class=pointer;text=From;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                        }
                      ],
                      "type": "View?class=flex align-center;style:[height=100%;flex=1]"
                    },
                    {
                      "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                      "children": [
                        {
                          "type": "Text?class=pointer;text=To;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444",
                          "controls": [
                            {
                              "event": "click?loader.show;timer():[tickets:()=sort():[data=tickets:();path=reservation-details.0.arrival-airport;descending];update():tickets-list-data;loader.hide]:50"
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "children": [
                        {
                          "controls": [
                            {
                              "event": "click?loader.show;timer():[tickets:()=sort():[data=tickets:();path=reservation-details.0.class;descending];update():tickets-list-data;loader.hide]:50"
                            }
                          ],
                          "type": "Text?class=pointer;text=Class;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                        }
                      ],
                      "type": "View?class=flex align-center;style:[height=100%;width=100%]"
                    },
                    {
                      "type": "View?class=flex align-center;style:[height=100%;width=100%]",
                      "children": [
                        {
                          "type": "Text?class=pointer;text=Bag;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                        }
                      ]
                    }
                  ]
                },
                {
                  "children": [
                    {
                      "controls": [
                        {
                          "event": "click?loader.show;timer():[tickets:()=sort():[data=tickets:();path=status;descending];update():[tickets-list-data];loader.hide]:50"
                        }
                      ],
                      "type": "Text?class=pointer;text=Status;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                    }
                  ],
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]"
                },
                {
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                  "children": [
                    {
                      "controls": [
                        {
                          "event": "click?loader.show;timer():[tickets:()=sort():[data=tickets:();path=issued-by-agent-name;descending];update():[tickets-list-data];loader.hide]:50"
                        }
                      ],
                      "type": "Text?class=pointer;text=Agent;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                    }
                  ]
                },
                {
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                  "children": [
                    {
                      "controls": [
                        {
                          "event": "click?loader.show;timer():[tickets:()=sort():[data=tickets:();path=issued-by-name;descending];update():[tickets-list-data];loader.hide]:50"
                        }
                      ],
                      "type": "Text?class=pointer;text=Issuer;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                    }
                  ]
                },
                {
                  "children": [
                    {
                      "type": "Text?class=pointer;text=Payable;style:[color=#888;fontSize=1.2rem;transition=.3s;width=100%;textAlign=right];hover.style.color=#444"
                    }
                  ],
                  "type": "View?class=flex align-center;style:[height=100%;width=100%]"
                }
              ]
            },
            {
              "type": "View:tickets-list-data?Data=tickets;class=vertical;style:[width=100%;zIndex=0]",
              "children": [
                {
                  "type": "[View]?style:[width=100%]?data().len()>0",
                  "children": [
                    {
                      "type": "View?class=grid align-center flight;style:[gridTemplateColumns=3rem .75fr 1.25fr 10rem 20rem 5fr 8rem 10rem 10rem .75fr .75fr;height=4rem;transition=.2s;width=100%;cursor=default;if():[data().status=Canceled]:[backgroundColor=#f27979]];hover:[if():[data().status=Canceled]:[style.backgroundColor=#d84e4e]:[style.backgroundColor=#f6f6f6]];mouseenter.lastChild().style().opacity=1;mouseleave.lastChild().style().opacity=0",
                      "children": [
                        {
                          "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                          "children": [
                            {
                              "type": "Text?class=flex dots;text=parent().parent().parent().mapIndex+1;style:[fontSize=1.2rem]"
                            }
                          ]
                        },
                        {
                          "children": [
                            {
                              "controls": [
                                {
                                  "event": "click?loader.show;search():[collection=flight-booking;field.pnr.equal=data().pnr]:[bookings:()=search:().data.values();unreset-bookings:()=true;():[flight-booking-sidebar-btn].click();loader.hide]"
                                }
                              ],
                              "type": "Text?class=flexbox pointer dots;text=data().pnr;style:[fontSize=1.2rem;padding=.5rem;borderRadius=.5rem;transition=.2s];hover.style:[color=blue;backgroundColor=#ddd]"
                            }
                          ],
                          "type": "View?class=flex align-center;style:[height=100%;flex=1]"
                        },
                        {
                          "children": [
                            {
                              "type": "Text?class=flex dots;text=data().e-ticket;style:[fontSize=1.2rem]"
                            }
                          ],
                          "type": "View?class=flex align-center;style:[height=100%;flex=1]"
                        },
                        {
                          "children": [
                            {
                              "type": "Text?class=flex dots;text=data().creation-date.toDateFormat();style:[fontSize=1.2rem]"
                            }
                          ],
                          "type": "View?class=flex align-center;style:[height=100%;width=10rem]"
                        },
                        {
                          "children": [
                            {
                              "type": "Text?class=flex dots;tooltip.text=[data().reservation-details.0.age+' '+data().reservation-details.0.title+' '+data().reservation-details.0.first-name+' '+data().reservation-details.0.last-name].uppercase();text=[data().reservation-details.0.age+' '+data().reservation-details.0.title+' '+data().reservation-details.0.first-name+ +data().reservation-details.0.last-name].uppercase();style:[fontSize=1.2rem]"
                            }
                          ],
                          "type": "View?class=flex align-center;style:[height=100%;width=20rem]"
                        },
                        {
                          "type": "View?view=ticket-flight-list"
                        },
                        {
                          "type": "View?class=flex align-center;style:[height=100%;width=10rem]",
                          "children": [
                            {
                              "type": "Text?class=dots;text=data().status;style:[fontSize=1.2rem]"
                            }
                          ]
                        },
                        {
                          "children": [
                            {
                              "type": "Text?class=dots;tooltip.text=data().agent-name;text=data().agent-name;style:[fontSize=1.2rem]"
                            }
                          ],
                          "type": "View?class=flex align-center;style:[height=100%;width=10rem]"
                        },
                        {
                          "children": [
                            {
                              "type": "Text?class=flex dots;tooltip.text=data().user-name;text=data().user-name;style:[fontSize=1.2rem]"
                            }
                          ],
                          "type": "View?class=flex align-center;style:[width=10rem;height=100%]"
                        },
                        {
                          "children": [
                            {
                              "controls": [
                                {
                                  "event": "loaded?if():[data().pnr=5W7YCB]:[loader.show;erase():[collection=flight-reservation;doc=data().id]:[tickets:().pullItem():data();loader.hide]]?false"
                                },
                                {
                                  "event": "loaded?if():[data().user-name=Test Test]:[loader.show;erase():[collection=flight-reservation;doc=data().id]:[tickets:().pullItem():data();loader.hide]]?false"
                                }
                              ],
                              "type": "Text?class=flex dots;text=[data().total-payable-usd||data().total-usd].round():2+'$';style:[fontSize=1.2rem;textAlign=right;width=100%]"
                            }
                          ],
                          "type": "View?class=flex align-center;style:[height=100%;width=100%]"
                        },
                        {
                          "type": "View?class=flex align-center;style:[flex=1;gap=1rem;justifyContent=flex-end;transition=.2s;opacity=0]?!user:().permissions.readonly",
                          "children": [
                            {
                              "type": "View?popup;class=flexbox pointer;tooltip.text=Cancel Ticket;style:[position=relative;backgroundColor=#f9f9f9;borderRadius=1.5rem;opacity=0.7;transition=.3s];hover.style.opacity=1?data().status=Confirmed;agent:().admin",
                              "children": [
                                {
                                  "type": "Icon?class=flexbox;name=airplane_ticket;google.outlined;style:[fontSize=2.25rem]"
                                },
                                {
                                  "type": "View?class=flexbox;style:[height=3rem;transform=rotate(-45deg);position=absolute;zIndex=1]",
                                  "children": [
                                    {
                                      "type": "View?class=flexbox;style:[height=3rem;backgroundColor=#444;width=2px]"
                                    },
                                    {
                                      "type": "View?class=flexbox;style:[height=3rem;backgroundColor=#f6f6f6;width=2px]"
                                    }
                                  ]
                                }
                              ],
                              "controls": [
                                {
                                  "event": "click:popup?loader.show;data().():[_.history=[_.history||_list];_.history.push():[_map:day:todayStart():month:monthStart():year:yearStart():user:[user:().id]:user-name:[user:().first-name+ +user:().last-name]:agent:[agent:().id]:agent-name:[agent:().company-name]:description:['All segments of Ticket e-ticket: '+data().e-ticket+' was canceled.']:status:Confirmed:date:[today().timestamp()]];status=Canceled;total-canceled-base-fare-usd=data().total-base-fare-usd;total-canceled-fees-usd=data().total-fees-usd;total-canceled-taxes-usd=data().total-taxes-usd;total-canceled-commission-usd=[data().total-commission-usd||0];total-canceled-usd=data().total-usd;total-canceled-payable-usd=data().total-payable-usd;reservation-details._():[_.total-canceled-base-fare-usd=_.total-base-fare-usd;_.total-canceled-fees-usd=_.total-fees-usd;_.total-canceled-taxes-usd=_.total-taxes-usd;_.total-canceled-commission-usd=[_.total-commission-usd||0];_.total-canceled-usd=_.total-usd;_.total-canceled-payable-usd=_.total-payable-usd;_.status=Canceled;_.infants._():[_.total-canceled-base-fare-usd=_.total-base-fare-usd;_.total-canceled-fees-usd=_.total-fees-usd;_.total-canceled-taxes-usd=_.total-taxes-usd;_.total-canceled-commission-usd=[_.total-commission-usd||0];_.total-canceled-usd=_.total-usd;_.total-canceled-payable-usd=_.total-payable-usd;_.status=Canceled]]];search():[collection=flight-booking;field.pnr.equal=data().pnr]:[booking-data:()=search:().data.values();booking-data:()._():[_.history=[_.history||_list];_.history.push():[_map:day:todayStart():month:monthStart():year:yearStart():user:[user:().id]:user-name:[user:().first-name+ +user:().last-name]:agent:[agent:().id]:agent-name:[agent:().company-name]:description:['All segments of ticket e-ticket: '+data().e-ticket+' was canceled.']:status:Confirmed:date:[today().timestamp()]];_.total-canceled-passengers=[_.total-canceled-passengers||0]+1;_.total-canceled-seats=[_.total-canceled-seats||0]+1;_.total-canceled-base-fare-usd=[_.total-canceled-base-fare-usd||0]+data().total-base-fare-usd;_.total-canceled-fees-usd=[_.total-canceled-fees-usd||0]+data().total-fees-usd;_.total-canceled-taxes-usd=[_.total-canceled-taxes-usd||0]+data().total-taxes-usd;total-canceled-commission-usd=[_.total-canceled-commission-usd||0]+data().total-commission-usd;total-canceled-usd=data().total-usd;total-canceled-payable-usd=data().total-payable-usd;booking-details._():[_.canceled-passengers=_.total-passengers;_.canceled-seats=_.total-seats;_.total-canceled-base-fare-usd=_.total-base-fare-usd;_.total-canceled-fees-usd=_.total-fees-usd;_.total-canceled-taxes-usd=_.total-taxes-usd;_.total-canceled-commission-usd=[_.total-commission-usd||0];_.total-canceled-usd=_.total-usd;_.total-canceled-payable-usd=_.total-payable-usd;_.status=Canceled;_.seats._():[_.canceled-passengers=_.total-passengers;_.canceled-seats=_.total-seats;_.total-canceled-base-fare-usd=_.total-base-fare-usd;_.total-canceled-fees-usd=_.total-fees-usd;_.total-canceled-taxes-usd=_.total-taxes-usd;_.total-canceled-commission-usd=[_.total-commission-usd||0];_.total-canceled-total-usd=_.total-usd;_.total-canceled-payable-usd=_.total-payable-usd;_.status=Canceled;_.passengers-details._():[_.canceled-base-fare-usd=_.base-fare-usd;_.canceled-fees-usd=_.fees-usd;_.canceled-taxes-usd=_.taxes-usd;_.canceled-commission-usd=[_.commission-usd||0];_.canceled-total-usd=_.total-usd;_.canceled-payable-usd=_.payable-usd;_.status=Canceled;if():[_.infants.len()>0]:[_.infants._():[_.canceled-base-fare-usd=_.base-fare-usd;_.canceled-fees-usd=_.fees-usd;_.canceled-taxes-usd=_.taxes-usd;_.canceled-commission-usd=[_.commission-usd||0];_.canceled-total-usd=_.total-usd;_.canceled-payable-usd=_.payable-usd;_.status=Canceled]]]]]];search():[collection=flight;docs=data().booking-details.():flight-id]:[my-flights:()=().search.data.values();my-flights:()._():[_.total-av-seats=[_.total-av-seats||0]+data().booking-details.0.total-seats];data().booking-details._():[my-flights:().find():[id=_.flight-id].seats.filter():[sub-class.in():[_.seats.():class]]._():[_.av-seats=[_.av-seats||0]+__.seats.find():[class=_.sub-class].total-seats]];search():[collection=flight-invoice;field.flight-id.in=data().flights]:[my-flight-invoices:()=search:().data.values();data().booking-details._():[my-flight-invoices:().find():[flight-id=_.flight-id]._():[_.total-canceled-reserved-base-fare-usd=[_.total-canceled-reserved-base-fare-usd||0]+__.total-base-fare-usd;_.total-canceled-reserved-taxes-usd=[_.total-canceled-reserved-taxes-usd||0]+__.total-taxes-usd;_.total-canceled-reserved-fees-usd=[_.total-canceled-reserved-fees-usd||0]+__.total-fees-usd;_.total-canceled-reserved-additional-profit-usd=[_.total-canceled-reserved-additional-profit-usd||0]+__.total-additional-profit-usd;_.total-canceled-reserved-usd=[_.total-canceled-reserved-usd||0]+__.total-usd;_.total-canceled-reserved-commission-usd=[_.total-canceled-reserved-commission-usd||0]+__.total-commission-usd;_.total-canceled-reserved-payable-usd=[_.total-canceled-reserved-payable-usd||0]+__.total-payable-usd;_.total-canceled-reserved-seats=[_.total-canceled-reserved-seats||0]+__.total-seats;_.total-canceled-reserved-passengers=[_.total-canceled-reserved-passengers||0]+__.total-passengers;if():[booking-data:().type=Group]:[_.total-canceled-group-reserved-seats=[_.total-canceled-group-reserved-seats||0]+__.total-seats];if():[booking-data:().type=Individual]:[_.total-canceled-individual-reserved-seats=[_.total-canceled-individual-reserved-seats||0]+__.total-seats];__.seats._():[__.seats.find():[sub-class=_.class]._():[_.total-canceled-reserved-base-fare-usd=[_.total-canceled-reserved-base-fare-usd||0]+__.total-base-fare-usd;_.total-canceled-reserved-taxes-usd=[_.total-canceled-reserved-taxes-usd||0]+__.total-taxes-usd;_.total-canceled-reserved-fees-usd=[_.total-canceled-reserved-fees-usd||0]+__.total-fees-usd;_.total-canceled-reserved-additional-profit-usd=[_.total-canceled-reserved-additional-profit-usd||0]+__.total-additional-profit-usd;_.total-canceled-reserved-usd=[_.total-canceled-reserved-usd||0]+__.total-usd;_.total-canceled-reserved-commission-usd=[_.total-canceled-reserved-commission-usd||0]+__.total-commission-usd;_.total-canceled-reserved-payable-usd=[_.total-canceled-reserved-payable-usd||0]+__.total-payable-usd;_.total-av-seats=[_.total-av-seats]+__.total-seats;_.total-canceled-reserved-seats=[_.total-canceled-reserved-seats||0]+__.total-seats;_.total-canceled-reserved-passengers=[_.total-canceled-reserved-passengers||0]+__.total-passengers;if():[booking-data:().type=Group]:[_.total-canceled-group-reserved-seats=[_.total-canceled-group-reserved-seats||0]+__.total-seats];if():[booking-data:().type=Individual]:[_.total-canceled-individual-reserved-seats=[_.total-canceled-individual-reserved-seats||0]+__.total-seats]]];_.total-base-fare-usd=[_.total-base-fare-usd]-[__.total-base-fare-usd];_.total-taxes-usd=[_.total-taxes-usd]-[__.total-taxes-usd];_.total-fees-usd=[_.total-fees-usd]-[__.total-fees-usd];_.total-additional-profit-usd=[_.total-additional-profit-usd]-[__.total-additional-profit-usd];_.total-usd=[_.total-usd]-[__.total-usd];_.total-commission-usd=[_.total-commission-usd]-[__.total-commission-usd];_.total-payable-usd=[_.total-payable-usd]-[__.total-payable-usd];_.total-av-seats=[_.total-av-seats]+__.total-seats;_.total-seats=[_.total-seats]-[__.total-seats];_.total-passengers=[_.total-passengers]-[__.total-passengers];if():[booking-data:().type=Group]:[_.total-group-seats=[_.total-group-seats]-[__.total-seats]];if():[booking-data:().type=Individual]:[_.total-individual-seats=[_.total-individual-seats]-[__.total-seats]];__.seats._():[__.seats.find():[sub-class=_.class]._():[_.total-base-fare-usd=[_.total-base-fare-usd]-[__.total-base-fare-usd];_.total-taxes-usd=[_.total-taxes-usd]-[__.total-taxes-usd];_.total-fees-usd=[_.total-fees-usd]-[__.total-fees-usd];_.total-additional-profit-usd=[_.total-additional-profit-usd]-[__.total-additional-profit-usd];_.total-usd=[_.total-usd]-[__.total-usd];_.total-commission-usd=[_.total-commission-usd]-[__.total-commission-usd];_.total-payable-usd=[_.total-payable-usd]-[__.total-payable-usd];_.total-av-seats=[_.total-av-seats]+[__.total-seats];_.total-seats=[_.total-seats]-[__.total-seats];_.total-passengers=[_.total-passengers]-[__.total-passengers];if():[booking-data:().type=Group]:[_.total-group-seats=[_.total-group-seats]-[__.total-passengers]];if():[booking-data:().type=Individual]:[_.total-individual-seats=[_.total-individual-seats]-[__.total-passengers]]]]]];search():[collection=flight-reservation;docs=data().reservations]:[my-tickets:()=search:().data.values();my-tickets:()._():[_.status=Canceled;_.cancelation-day=todayStart();_.cancelation-month=monthStart();_.cancelation-year=yearStart();_.canceled-by=user:().id;_.canceled-by-name=user:().first-name+ +user:().last-name;_.canceled-by-agent=agent:().id;_.canceled-by-agent-name=agent:().company-name;_.cancelation-date=today().timestamp();_.reservation-details._():[_.status=Canceled;_.cancelation-day=todayStart();_.cancelation-month=monthStart();_.cancelation-year=yearStart();_.canceled-by=user:().id;_.canceled-by-name=user:().first-name+ +user:().last-name;_.canceled-by-agent=agent:().id;_.canceled-by-agent-name=agent:().company-name;_.cancelation-date=today().timestamp()]];save():[collection=flight-reservation;data=my-tickets:()];save():[collection=flight-invoice;data=my-flight-invoices:()];save():[collection=flight;data=my-flights:()];save():[collection=flight-booking;data=data()];my-flights:()=_list;my-flight-invoices:()=_list;my-tickets:()=_list;update():[bookings-list];note():[text=Reservation has been Canceled!];loader.hide]]]]?data().status=Confirmed;false",
                                  "actions": "wait():save:search:search:note:[update:tickets-list:200]?note.text=Ticket has been Canceled!;save.collection=flight-reservation;save.doc=data().id;save.data=data();wait():[search.collection=flight;search.docs=data().reservation-details.():flight-id]:[search.collection=flight-booking;search.field.pnr.equal=data().pnr;my-flights:()=().search.data.values();my-flights:()._():[_.canceled-reservations.push():[data().id];_.total-av-seats=[_.total-av-seats||0]+1;_.total-canceled-reserved-seats=[_.total-canceled-reserved-seats||0]+1;if():[data().type=Group]:[_.total-group-canceled-reserved-seats=[_.total-group-canceled-reserved-seats||0]+1].elif():[data().type=Individual]:[_.total-individual-canceled-reserved-seats=[_.total-individual-canceled-reserved-seats||0]+1]];data().reservation-details._():[my-flights:().find():[id=_.flight-id].seats.find():[sub-class=_.class]._():[_.av-seats=[_.av-seats||0]+1;if():[data().type=Group]:[_.group-canceled-reserved-seats=[_.group-canceled-reserved-seats||0]+1].elif():[data().type=Individual]:[_.individual-canceled-reserved-seats=[_.individual-canceled-reserved-seats||0]+1]];save():[collection=flight;doc=_.flight-id;data=my-flights:().find():[id=_.flight-id]]]]:[my-booking:()=().search.data.values();my-booking:()._():[_.canceled-reservations.push():[data().id];_.canceled-tickets.push():[data().e-ticket]]]:[tickets:().pullItem():[id=data().id];loader.hide]"
                                }
                              ]
                            },
                            {
                              "type": "Icon?class=flexbox actions pointer;name=bi-three-dots-vertical;style:[fontSize=2.2rem;color=#888;transition=.1s;height=3rem;width=3rem;borderRadius=3rem];hover.style.color=blue",
                              "controls": [
                                {
                                  "event": "click?position():[id=action-list;positioner=().id;placement=left;align=center];if():[style():action-list.pointerEvents=none||ticket-data:()!=data()]:[style():[pointerEvents=auto;opacity=1;transform=scale(1);id=action-list]]:[style():[id=action-list;pointerEvents=none;opacity=0;transform=scale(.5)]];ticket-data:()=data().clone();ticket-edit:()=true;action-lister:()=tickets;log():[agent:()];update():[action-list]?!user:().permissions.readonly"
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "type": "View?class=vertical;style:[width=100%;minHeight=30rem]?tickets:().len()>0;tickets:().0.len()>0"
        }
      ],
      "type": "View?style:[width=100%];data=tickets:()"
    }
  ]
}