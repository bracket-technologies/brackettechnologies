{
  "type": "View:flight-list?class=flex column;style:[width=100%;padding=1rem;backgroundColor=#fff;overflowY=auto]",
  "children": [
    {
      "type": "View?style:[width=100%;gap=1rem]",
      "children": [
        {
          "children": [
            {
              "children": [
                {
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                  "children": [
                    {
                      "type": "Text?class=pointer;text=#;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                    }
                  ]
                },
                {
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                  "children": [
                    {
                      "type": "Text?class=pointer;text=Airline;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                    }
                  ]
                },
                {
                  "children": [
                    {
                      "type": "Text?class=pointer;text=Travel Date;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                    }
                  ],
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]"
                },
                {
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                  "children": [
                    {
                      "type": "Text?class=pointer;text=No.;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                    }
                  ]
                },
                {
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                  "children": [
                    {
                      "type": "Text?class=pointer;text=From;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                    }
                  ]
                },
                {
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                  "children": [
                    {
                      "type": "Text?class=pointer;text=To;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                    }
                  ]
                },
                {
                  "children": [
                    {
                      "type": "Text?class=pointer;text=Dep;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                    }
                  ],
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]"
                },
                {
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                  "children": [
                    {
                      "type": "Text?class=pointer;text=Arr;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                    }
                  ]
                },
                {
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                  "children": [
                    {
                      "type": "Text?class=pointer;text=Stops;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                    }
                  ]
                },
                {
                  "children": [
                    {
                      "type": "Text?class=pointer;text=Aircraft;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                    }
                  ],
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]"
                },
                {
                  "children": [
                    {
                      "type": "Text?class=pointer;text=Duration;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                    }
                  ],
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]"
                },
                {
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                  "children": [
                    {
                      "type": "Text?class=pointer;text=Total sts;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                    }
                  ]
                },
                {
                  "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                  "children": [
                    {
                      "children": [
                        {
                          "children": [
                            {
                              "type": "Text?class=pointer;text=Av. sts;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                            }
                          ],
                          "type": "View?class=flex align-center;style:[height=100%;flex=1]"
                        },
                        {
                          "children": [
                            {
                              "children": [
                                {
                                  "type": "Text?class=pointer;text=Booked;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                                }
                              ],
                              "type": "View?class=flex align-center;style:[height=100%;flex=1]"
                            },
                            {
                              "children": [
                                {
                                  "type": "Text?class=pointer;text=Seats;style:[color=#888;fontSize=1.2rem;transition=.3s;flex=1];hover.style.color=#444"
                                },
                                {
                                  "type": "Text?class=pointer;text=PNRs;style:[color=#888;fontSize=1.2rem;transition=.3s;flex=1];hover.style.color=#444"
                                },
                                {
                                  "type": "Text?class=pointer;text=Payment;style:[color=#888;fontSize=1.2rem;transition=.3s;flex=1];hover.style.color=#444"
                                }
                              ],
                              "type": "View?class=flex align-center;style:[height=100%;flex=1;width=100%]"
                            }
                          ],
                          "type": "View?class=flexbox vertical;style:[height=100%;width=100%;backgroundColor=#ffff0044]"
                        },
                        {
                          "type": "View?class=flexbox vertical;style:[height=100%;width=100%;backgroundColor=#00ff0033]",
                          "children": [
                            {
                              "children": [
                                {
                                  "type": "Text?class=pointer;text=Confirmed;style:[color=#888;fontSize=1.2rem;transition=.3s];hover.style.color=#444"
                                }
                              ],
                              "type": "View?class=flex align-center;style:[height=100%;flex=1]"
                            },
                            {
                              "children": [
                                {
                                  "type": "Text?class=pointer;text=Seats;style:[color=#888;fontSize=1.2rem;transition=.3s;flex=1];hover.style.color=#444"
                                },
                                {
                                  "type": "Text?class=pointer;text=PNRs;style:[color=#888;fontSize=1.2rem;transition=.3s;flex=1];hover.style.color=#444"
                                },
                                {
                                  "type": "Text?class=pointer;text=Payment;style:[color=#888;fontSize=1.2rem;transition=.3s;flex=1];hover.style.color=#444"
                                }
                              ],
                              "type": "View?class=flex align-center;style:[height=100%;flex=1;width=100%]"
                            }
                          ]
                        }
                      ],
                      "type": "View?class=grid align-center;style:[width=100%;gridTemplateColumns=1fr 3fr 3fr;height=4rem]"
                    }
                  ]
                },
                {
                  "type": "View?class=flex;style:[flex=1;minWidth=100%]"
                }
              ],
              "type": "View?id=table-headers;class=grid align-center;style:[width=100%;borderBottom=1px solid #ddd;gridTemplateColumns=2rem 15rem 10rem .75fr .75fr .75fr .75fr .75fr .75fr .75fr 1fr 1fr 7fr 3rem;height=4rem]"
            },
            {
              "type": "View?class=vertical;style:[width=100%]",
              "children": [
                {
                  "children": [
                    {
                      "children": [
                        {
                          "type": "Text?class=flex dots;text=parent().parent().mapIndex+1;style:[fontSize=1.2rem]"
                        }
                      ],
                      "type": "View?class=flex align-center;style:[height=100%;flex=1]"
                    },
                    {
                      "children": [
                        {
                          "type": "View?class=flex align-center;style:[height=4rem]",
                          "children": [
                            {
                              "type": "Image?class=flex;src=collections:().airlines.airlines.find():[code=data().airline.split():' ':slice():0:1.0].image-url;style:[maxHeight=4rem;maxWidth=6rem]"
                            }
                          ]
                        },
                        {
                          "type": "Text?class=flex dots;text=data().airline.slice():3;style:[fontSize=1.2rem;width=7.5rem]"
                        }
                      ],
                      "type": "View?class=flex align-center;style:[height=100%;width=15rem;gap=1rem]"
                    },
                    {
                      "children": [
                        {
                          "type": "Text?class=flex dots;text=data().departure-day.toDateFormat();style:[fontSize=1.2rem]"
                        }
                      ],
                      "type": "View?class=flex align-center;style:[height=100%;width=10rem]"
                    },
                    {
                      "children": [
                        {
                          "type": "Text?class=flex align-center;text=data().flight-number;style:[fontSize=1.2rem]"
                        }
                      ],
                      "type": "View?class=flex align-center;style:[height=100%;flex=1]"
                    },
                    {
                      "children": [
                        {
                          "type": "Text?class=flex align-center;text=data().departure-airport.split(): .0;style:[fontSize=1.2rem]"
                        }
                      ],
                      "type": "View?class=flex align-center;style:[height=100%;flex=1]"
                    },
                    {
                      "children": [
                        {
                          "type": "Text?class=flex align-center;text=data().departure-time.toClock():[hr;min];style:[fontSize=1.2rem]"
                        }
                      ],
                      "type": "View?class=flex align-center;style:[height=100%;flex=1]"
                    },
                    {
                      "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                      "children": [
                        {
                          "type": "Text?class=flex align-center;text=data().arrival-airport.split(): .0;style:[fontSize=1.2rem]"
                        }
                      ]
                    },
                    {
                      "children": [
                        {
                          "type": "Text?class=flex align-center;text=data().arrival-time.toClock():[hr;min]+if():[data().departure-day<data().arrival-day]:' (+1)':'';style:[fontSize=1.2rem]"
                        }
                      ],
                      "type": "View?class=flex align-center;style:[height=100%;flex=1]"
                    },
                    {
                      "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                      "children": [
                        {
                          "type": "Text?class=flexbox;text=0;style:[fontSize=1.2rem]"
                        }
                      ]
                    },
                    {
                      "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                      "children": [
                        {
                          "type": "Text?class=flexbox;text=data().aircraft;style:[fontSize=1.2rem]"
                        }
                      ]
                    },
                    {
                      "children": [
                        {
                          "type": "Text?class=flexbox;text=data().flight-duration.split():':'.0+'h'+':'+data().flight-duration.split():':'.1+'m';style:[fontSize=1.2rem]?data().flight-duration"
                        }
                      ],
                      "type": "View?class=flex align-center;style:[height=100%;flex=1]"
                    },
                    {
                      "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                      "children": [
                        {
                          "type": "Text?class=flexbox pointer;text=data().total-seats;style:[fontSize=1.2rem]"
                        }
                      ]
                    },
                    {
                      "type": "View?class=flex align-center flight-invoice-data;style:[height=4rem;flex=1]",
                      "children": [
                        {
                          "type": "View?data=flight-invoices:().clone().find():[flight-id=data().id];Data;class=grid align-center;style:[width=100%;gridTemplateColumns=1fr 1fr 1fr 1fr 1fr 1fr 1fr;height=4rem]?flight-invoices:().len()>0",
                          "children": [
                            {
                              "type": "View?class=flex align-center;style:[height=100%;flex=1]",
                              "children": [
                                {
                                  "type": "Text?class=flex align-center pointer;text=3rdParent().data().total-av-seats;style:[fontSize=1.2rem]"
                                }
                              ]
                            },
                            {
                              "children": [
                                {
                                  "controls": [
                                    {
                                      "event": "click?loader.show;search():[collection=flight-booking;field.flights.contains=data().flight-id;field.status.equal=Booked;limit=250]:[bookings:()=search:().data.values();unreset-bookings:()=true;():[flight-booking-sidebar-btn].click();loader.hide]"
                                    }
                                  ],
                                  "type": "Text?class=flex align-center pointer;tooltip.text=show unconfirmed seats;text=[data().[total-open-bookings-seats]||0];style:[fontSize=1.2rem;transition=.2s;height=3rem;padding=0 .5rem;borderRadius=.5rem];hover.style:[color=blue;backgroundColor=#ddd]"
                                }
                              ],
                              "type": "View?class=flexbox align-center;style:[height=100%;flex=1;backgroundColor=#ffff0044]"
                            },
                            {
                              "type": "View?class=flexbox align-center;style:[height=100%;flex=1;backgroundColor=#ffff0044]",
                              "children": [
                                {
                                  "type": "Text?class=flex align-center pointer;tooltip.text=show open bookings;text=[data().open-bookings.len()||0];style:[fontSize=1.2rem;transition=.2s;height=3rem;padding=.5rem;borderRadius=.5rem];hover.style:[color=blue;backgroundColor=#ddd]",
                                  "controls": [
                                    {
                                      "event": "click?loader.show;search():[collection=flight-booking;field.flights.contains=data().flight-id;field.status.equal=Booked;limit=250]:[bookings:()=search:().data.values();unreset-bookings:()=true;():[flight-booking-sidebar-btn].click();loader.hide]"
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "children": [
                                {
                                  "type": "Text?class=flex align-center pointer;tooltip.text=show unconfirmed payments;text=[data().[total-open-bookings-payable-usd]||0].round():2.price()+' $';style:[fontSize=1.2rem;transition=.2s;height=3rem;padding=0 .5rem;borderRadius=.5rem];hover.style:[color=blue;backgroundColor=#ddd]"
                                }
                              ],
                              "type": "View?class=flexbox align-center;style:[height=100%;flex=1;backgroundColor=#ffff0044]"
                            },
                            {
                              "children": [
                                {
                                  "controls": [
                                    {
                                      "event": "click?loader.show;search():[collection=flight-reservation;field.flights.contains=data().flight-id;field.status.equal=Confirmed;limit=250]:[tickets:()=search:().data.values();unreset-tickets:()=true;():[flight-ticket-sidebar-btn].click();loader.hide]"
                                    }
                                  ],
                                  "type": "Text?class=flex align-center pointer;tooltip.text=show confirmed seats;text=[data().[total-reserved-seats]||0]-[data().[total-canceled-reserved-seats]||0];style:[fontSize=1.2rem;transition=.2s;height=3rem;padding=0 .5rem;borderRadius=.5rem];hover.style:[color=blue;backgroundColor=#ddd]"
                                }
                              ],
                              "type": "View?class=flexbox align-center;style:[height=100%;flex=1;backgroundColor=#00ff0033]"
                            },
                            {
                              "type": "View?class=flexbox align-center;style:[height=100%;flex=1;backgroundColor=#00ff0033]",
                              "children": [
                                {
                                  "controls": [
                                    {
                                      "event": "click?loader.show;search():[collection=flight-booking;field.flights.contains=data().flight-id;limit=250;field.status.equal=Issued]:[bookings:()=search:().data.values();unreset-bookings:()=true;():[flight-booking-sidebar-btn].click();loader.hide]"
                                    }
                                  ],
                                  "type": "Text?class=flex align-center pointer;tooltip.text=show confirmed bookings;text=[data().bookings.clone().pullItems():[data().canceled-bookings||_list].pullItems():[data().[open-bookings]||_list].len()||0];style:[fontSize=1.2rem;transition=.2s;height=3rem;padding=.5rem;borderRadius=.5rem];hover.style:[color=blue;backgroundColor=#ddd]"
                                }
                              ]
                            },
                            {
                              "type": "View?class=flexbox align-center;style:[height=100%;flex=1;backgroundColor=#00ff0033]",
                              "children": [
                                {
                                  "type": "Text?class=flex align-center pointer;tooltip.text=show confirmed payments;text=[[data().[total-reserved-payable-usd]||0]-[data().[total-canceled-reserved-payable-usd]||0]].round():2.price()+' $';style:[fontSize=1.2rem;transition=.2s;height=3rem;padding=.5rem;borderRadius=.5rem];hover.style:[color=blue;backgroundColor=#ddd]"
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "children": [
                        {
                          "type": "Icon?class=flexbox actions;name=bi-three-dots-vertical;style:[fontSize=2.2rem;color=#888;transition=.1s;height=3rem;width=3rem;borderRadius=3rem];hover.style.color=blue",
                          "controls": [
                            {
                              "event": "click?if():[style():action-list.pointerEvents=none||flight-data:()!=data()]:[style():[pointerEvents=auto;opacity=1;transform=scale(1);id=action-list]]:[style():[id=action-list;pointerEvents=none;opacity=0;transform=scale(.5)]];flight-data:()=data().clone();flight-invoice:()=flight-invoices:().find():[flight-id=flight-data:().id].clone();flight-edit:()=true;action-lister:()=flights;update():[action-list];position():[id=action-list;positioner=().id;placement=left;align=center]"
                            }
                          ]
                        }
                      ],
                      "type": "View?class=flexbox pointer;style:[opacity=0;flex=1]"
                    }
                  ],
                  "type": "[View]?data=flights:();class=grid align-center;style:[width=100%;gridTemplateColumns=2rem 15rem 10rem .75fr .75fr .75fr .75fr .75fr .75fr .75fr 1fr 1fr 7fr 3rem;height=4rem;if():[data().active=false]:[backgroundColor=#aaa]:[backgroundColor=#fff]];mouseenter:[lastChild().style().opacity=1];mouseleave:[lastChild().style().opacity=0]"
                }
              ]
            }
          ],
          "type": "View?class=vertical;data=flights:().[().mapIndex].clone();style:[width=100%;minHeight=30rem]?flights:().len()>0"
        }
      ]
    }
  ],
  "functions": {},
  "creation-date": 1654120726246,
  "id": "flight-list"
}