{
  "view": "View:collection-list?class=flex column;style:[display=none;marginLeft=1.2rem;borderLeft=1px solid #ddd]",
  "children": [
    {
      "type": "[View]?data=data:().editor.collection.keys();class=flex pointer align-center;style:[minHeight=3rem;width=100%;position=relative]?data:().editor.collection.keys().len()>0||[!open-doc:();open-collection:()=collection]",
      "children": [
        {
          "type": "Icon?name=bi-file-earmark;style:[fontSize=1.3rem;minWidth=2.25rem]"
        },
        {
          "type": "Text?class=dots;text=().data;style.fontSize=1.3rem"
        },
        {
          "controls": [
            {
              "event": "keyup?cancelEditCreateDoc():[view=collection;collection=collection]?e().key=Escape"
            },
            {
              "event": "blur?cancelEditCreateDoc():[view=collection;collection=collection]?parent().contains():[clicked:()]"
            },
            {
              "event": "keyup?problemEditingCreateDoc():[view=collection;collection=collection]?e().key=Enter||e().key=Tab;data:().editor.collection.keys().inc():txt()||!txt()||txt().inc(): "
            },
            {
              "event": "keyup?createEditDoc():[collection=collection;list='collection-list']?e().key=Enter||e().key=Tab;txt();txt()!=open-doc:();!data:().editor.collection.keys().inc():txt();!txt().inc(): "
            }
          ],
          "type": "Input?class=dots;input.value=().data;generator;preventDefault;input.style.padding=0;style:[fontSize=1.3rem;border=0;height=3rem;padding=0;display=none;width='calc(100% - 2.25rem)']"
        },
        {
          "controls": [
            {
              "event": "click?showActionPopup():[collection=collection]"
            }
          ],
          "type": "Icon?open-doc=data();open-collection=collection;name='bi-three-dots-vertical';style:[fontSize=1.8rem;width=2rem;height=3rem;position=absolute;right=0;display=none;backgroundColor=#e9e9e9;borderRadius=.25rem];hover.style.color=blue"
        }
      ],
      "controls": [
        {
          "event": "mouseenter?style().backgroundColor=#e9e9e9;lastChild().style().display=flex?3rdChild().style().display=none"
        },
        {
          "event": "mouseleave?lastChild().style().display=none;style().backgroundColor=inherit"
        },
        {
          "event": "loaded?if():[new-file-created:();mapIndex=data:().editor.collection.keys().len()-1]:[new-file-created:().del();parent().style().display=flex;parent().prev().1stChild().style().transform='rotate(90deg)';click()]"
        },
        {
          "event": "click?displayOpenedDoc():[collection=collection]?clicked:().id!=lastChild().id;open-docs:().inc():['collection/'+().data]"
        },
        {
          "event": "click?openDoc():[collection=collection]?!2ndLastChild().contains():[clicked:()];!lastChild().contains():[clicked:()];!open-docs:().inc():['collection/'+().data]"
        }
      ]
    }
  ]
}