{
    "type": "View?id=sidebar;class=flex;style.transition=.2s;style.height=calc(100vh - 4rem);style.position=relative;sidebar-open-manager:()=page-view-sidebar;mouseenter:[lastChild().style().opacity=1];mouseleave:[lastChild().style().opacity=0]",
    "creation-date": 1640440075917,
    "children": [
        {
            "children": [
                {
                    "type": "View?id=page-view-btn;tooltip.text=main;open=if():[sidebar-item-open:()=().id]:true:false;class=flexbox pointer;style:[minHeight=4.5rem;width=100%;borderLeft=2px solid #ffffff00;borderRight=if():open:2px solid #000:2px solid #ffffff00]",
                    "children": [
                        {
                            "type": "Icon?class=flexbox;name=code;google.symbol.outlined;style.color=if():[parent().open]:#000:#888;style.fontSize=2.7rem]"
                        }
                    ],
                    "controls": [
                        {
                            "event": "click?sidebar-open-manager:()=page-view-sidebar;():gallery-view.style().display=none;parent().children()._():[if():[_.id!=().id]:[_.open=false]];open=().open.opp();parent().children().():[style().borderRight=2px solid #ffffff00;style().color=#888];1stChild():collection-btn.style().color=#888;1stChild().style().color=#888;if():open:[style():[borderRight=2px solid #000;color=#000;sidebar-item-open:()=().id];1stChild().style().color=#000];parent().parent().children().slice():1:-1.():[style().width=0px];if():open:[if():[():sidebar-width-controller.width>5]:[():page-view-sidebar.style().width=():sidebar-width-controller.width+():sidebar-width-controller.diff+rem;():data-viewer.style().width='calc(100vw - '+[():sidebar-width-controller.width+():sidebar-width-controller.diff+4.5]+'rem)';():my-functions.style().width=():data-viewer.style().width]:[():page-view-sidebar.style().width=19rem;():data-viewer.style().width='calc(100vw - 23.5rem)';():my-functions.style().width='calc(100vw - 23.5rem)']]:[():page-view-sidebar.style().width=0px;():data-viewer.style().width='calc(100vw - 4.5rem)';():my-functions.style().width='calc(100vw - 4.5rem)'];className():data-viewer.find():[open-doc=open-doc:()].style().display=flex;():gallery-view.style().display=none;if():[():data-viewer-bar.children().len()>0]:[():data-viewer-bar.style().display=flex];():main-data-viewer.style().display=flex"
                        }
                    ]
                },
                {
                    "type": "View?id=collection-btn;tooltip.text=database;open=if():[sidebar-item-open:()=().id]:true:false;class=flexbox pointer;style:[minHeight=4.5rem;width=100%;borderLeft=2px solid #ffffff00;borderRight=if():open:2px solid #000:2px solid #ffffff00]",
                    "children": [
                        {
                            "type": "Icon?class=flexbox;name=bi-menu-button-wide-fill;#google.outlined;style.color=if():[parent().open]:#000:#888;style.fontSize=2rem"
                        }
                    ],
                    "controls": [
                        {
                            "event": "click?sidebar-open-manager:()=collection-sidebar;():gallery-view.style().display=none;parent().children()._():[if():[_.id!=().id]:[_.open=false]];open=().open.opp();parent().children().():[style().borderRight=2px solid #ffffff00;style().color=#888];1stChild():page-view-btn.style().color=#888;1stChild().style().color=#888;if():open:[style():[borderRight=2px solid #000;color=#000;sidebar-item-open:()=().id];1stChild().style().color=#000];parent().parent().children().slice():1:-1.():[style().width=0px];if():open:[if():[():sidebar-width-controller.width>5]:[():collection-sidebar.style().width=():sidebar-width-controller.width+():sidebar-width-controller.diff+rem;():data-viewer.style().width='calc(100vw - '+[():sidebar-width-controller.width+():sidebar-width-controller.diff+4.5]+'rem)';():my-functions.style().width=():data-viewer.style().width]:[():collection-sidebar.style().width=19rem;():data-viewer.style().width='calc(100vw - 23.5rem)';():my-functions.style().width='calc(100vw - 23.5rem)']]:[():collection-sidebar.style().width=0px;():data-viewer.style().width='calc(100vw - 4.5rem)';():my-functions.style().width='calc(100vw - 4.5rem)'];className():data-viewer.find():[open-doc=open-doc:()].style().display=flex;():gallery-view.style().display=none;if():[():data-viewer-bar.children().len()>0]:[():data-viewer-bar.style().display=flex];():main-data-viewer.style().display=flex"
                        }
                    ]
                },
                {
                    "type": "Icon?id=gallery-icon;class=flexbox;open=if():[sidebar-item-open:()=().id]:true:false;name=bi-images;tooltip.text=gallery;style.color=if():open:#000:#888;style.borderRight=if():open:2px solid #000:2px solid #ffffff00;style.fontSize=2rem;style.padding=1.25rem .5rem;class=pointer;style.width=100%;style.minHeight=4.5rem",
                    "controls": [
                        {
                            "event": "click?parent().children()._():[if():[_.id!=().id]:[_.open=false]];open=().open.opp();parent().children().():[style().borderRight=2px solid #ffffff00;style().color=#888];1stChild():page-view-btn.style().color=#888;1stChild():collection-btn.style().color=#888;if():open:[style().borderRight=2px solid #000;style().color=#000;sidebar-item-open:()=().id];parent().parent().children().slice():1:-1.():[style().width=0px];():gallery-view.style().display=if():open:grid:none;():data-viewer.children().():[style().display=none];():gallery-view.style().display=grid;style():[borderRight=2px solid #000;color=#000];open=true;():main-data-viewer.style().display=none;():data-viewer-bar.style().display=none;search():[collection=storage;headers.project=project:();limit=250]:[gallery-images:()=_.data.values().sort():[path=creation-date];update():'gallery-view']"
                        }
                    ]
                }
            ],
            "type": "View?id=sidebar-items;class=flex column;style.width=4.5rem;style.backgroundColor=#f9f9f9;sidebar-item-open:()=false"
        },
        {
            "type": "View?view=page-view-sidebar"
        },
        {
            "type": "View?view=collection-sidebar"
        },
        {
            "type": "View?id=sidebar-width-controller;style:[minHeight=100%;width=7px;backgroundColor=#34aeeb;cursor=ew-resize;position=absolute;right=-3px;top=0;zIndex=100;opacity=0;transition=.2s];#mouseenter:[():[sidebar-width-controller-1].style().opacity=1];#mouseleave:[():[sidebar-width-controller-1].style().opacity=0]",
            "controls": [
                {
                "event": "mousedown?mousedown=true;document().style().cursor=ew-resize;():[sidebar-open-manager:()].style().transition=null;():data-viewer.style().transition=null;():my-functions.style().transition=null;width=():[sidebar-open-manager:()].style().width.split():rem.0.num();screenX=mousePosX:()"
                },
                {
                "event": "mousemove:body?diff=[[mousePosX:()]-[().screenX]].divide():10;():[sidebar-open-manager:()].style().width=[().width+().diff]+rem;():data-viewer.style().width='calc(100vw - '+[().width+().diff+4.5]+'rem)';():my-functions.style().width='calc(100vw - '+[().width+().diff+4.5]+'rem)'?mousedown"
                },
                {
                "event": "mouseup:body?mousedown=false;document().style().cursor=default;():[sidebar-open-manager:()].style().transition=.2s;():data-viewer.style().transition=.2s;():my-functions.style().transition=.2s"
                }
            ]
        }
    ],
  "functions": {
    "closeFolder": "if():[!_.id]:[_.id=().id];():[_.id].next().style().display=none;():[_.id].1stChild().style().transform='rotate(0)'",
    "cancelEditCreateDoc": "txt()=open-doc:();style().display=none;prev().style().display=flex;if():[!open-doc:()||if():[_.head-collection]:[!data:().editor.collections.[_.collection].[open-doc:()]]:[!data:().editor.[_.collection].[open-doc:()]]]:[if():[if():[_.head-collection]:[!data:().editor.collections.[_.collection]||data:().editor.collections.[_.collection].keys().len()=0]:[!data:().editor.[_.collection]||data:().editor.[_.collection].keys().len()=0]]:[closeFolder():[id=_.view]];parent().rem()]",
    "problemEditingCreateDoc": "note():[text=if():[!txt()]:[File name could not be empty!].elif():[if():[data:().editor.collections.[_.collection].keys().inc():txt()]:[_.head-collection]:[data:().editor.[_.collection].keys().inc():txt()]]:[File name should be unique!].elif():[txt().inc(): ]:'File name cannot contain spaces!';danger]",
    "createEditDoc": "if():[open-doc:()||duplicate-doc:()]:[if():[_.head-collection]:[data:().editor.collections.[_.collection].txt()=data:().editor.collections.[_.collection].[open-doc:()||duplicate-doc:()].clone();data:().editor.collections.[_.collection].txt().id=txt()]:[data:().editor.[_.collection].txt()=data:().editor.[_.collection].[open-doc:()||duplicate-doc:()].clone();data:().editor.[_.collection].txt().id=txt()]]:[if():[_.head-collection]:[data:().editor.collections.[_.collection].txt()=_map:id:txt():'creation-date':[today().timestamp()]]:[data:().editor.[_.collection].txt()=_map:id:txt():'creation-date':[today().timestamp()]]];createDoc():[collection=_.collection;list=_.list;head-collection=_.head-collection]",
    "createDoc": "save():[collection=if():[_.head-collection]:['collection-'+_.collection]:[_.collection];doc=txt();data=if():[_.head-collection]:[data:().editor.collections.[_.collection].txt()]:[data:().editor.[_.collection].txt()];headers.project=project:()]:[note():[text=if():[open-doc:()]:'File name has been changed!'.elif():[duplicate-doc:()]:'File has been duplicated!':'File has been created!'];if():[!open-doc:();!duplicate-doc:()]:[new-file-created:()=true];duplicate-doc:().del();eraseDoc():[collection=__.collection;head-collection=__.head-collection];update():[__.list]]",
    "eraseDoc": "if():[open-doc:()]:[erase():[collection=if():[_.head-collection]:['collection-'+_.collection]:[_.collection];doc=open-doc:();headers.project=project:()];if():[_.head-collection]:[data:().editor.collections.[_.collection].[open-doc:()].del()]:[data:().editor.[_.collection].[open-doc:()].del()]]",
    "showActionPopup": "if():[():'file-action-popup'.style().opacity=1;action-popup-caller:()=().id]:[():'file-action-popup'.style():[opacity=0;pointerEvents=none;transform='scale(0)']]:[action-popup-caller:()=().id;():'file-action-popup'.style():[opacity=1;pointerEvents=auto;zIndex=10;transform='scale(1)']];open-doc:()=().data;open-collection:()=if():[_.head-collection]:['collection-'+_.collection]:[_.collection];open-head-collection:()=_.head-collection;():'file-action-popup'.caller=().id;():'file-action-popup'.setPosition():[positioner=().id;placement=right]",
    "displayOpenedDoc": "open-doc:()=().data;open-collection:()=if():[_.head-collection]:['collection-'+_.collection]:[_.collection];open-map:()=data:().editor.[_.collection].[open-doc:()];():'data-viewer-bar'.children().():[style().backgroundColor=inherit;hover.disable=false];():'data-viewer-bar'.children().find():[open-doc=open-doc:();open-collection=open-collection:()].():[style().backgroundColor=#fff;hover.disable=true];className():'data-viewer'.():[style().display=none];className():'data-viewer'.find():[open-doc=open-doc:();open-collection=open-collection:()].style().display=flex",
    "openDoc": "loader.show;():'my-functions'.style().height=0;():'data-viewer'.style().height=100%;open-doc:()=().data;open-docs:().push():[if():[_.head-collection]:['data/'+_.collection+'/'+open-doc:()]:[_.collection+'/'+open-doc:()]];open-collection:()=if():[_.head-collection]:['collection-'+_.collection]:[_.collection];open-map:()=if():[_.head-collection]:[data:().editor.collections.[_.collection].[open-doc:()]]:[data:().editor.[_.collection].[open-doc:()]];():'data-viewer-bar'.style().display=flex;className():'data-viewer'.():[style().display=none];():'data-viewer-bar'.children().():[style().backgroundColor=inherit;hover.disable=false];pushDocHeader();pushDocView()",
    "pushDocHeader": "timer():[():'data-viewer-bar'.insert():[view=():'data-viewer-bar'.children.0;data=if():[_.head-collection]:['data/'+_.collection+'/'+open-doc:()]:[_.collection+'/'+open-doc:()]]:[_.view.():[style().backgroundColor=#fff;hover.disable=true;open-doc=open-doc:();open-collection=open-collection:();open-head-collection=__.head-collection]]]:0",
    "pushDocView": "timer():[():'data-viewer'.insert():[view=():'data-viewer'.children.0;data=open-map:();index=():'data-viewer'.children().len()]:[_.view.():[open-doc=open-doc:();open-collection=open-collection:();open-head-collection=__.head-collection];loader.hide]]:0",
    "searchDocs": "if():[next().style().display=none||3rdChild().contains():[clicked:()]]:[next().children().():rem();searchDocsRequest():[head-collection=_.head-collection;collection=_.collection;list=_.list]]:closeFolder()",
    "searchDocsRequest": "search():[collection=if():[_.head-collection]:['collection-'+_.collection]:[_.collection];headers.project=project:()]:[if():[__.head-collection]:[data:().editor.collections.[__.collection]=_.data]:[data:().editor.[__.collection]=_.data];next().style().display=flex;1stChild().style().transform='rotate(90deg)';update():[__.list]]",
    "createNewDocRequest": "parent().next().style().display=flex;2ndPrev().style().transform='rotate(90deg)';open-doc:().del();open-collection:()=if():[_.head-collection]:['collection-'+_.collection]:[_.collection];parent().next().insert():[view=parent().next().children.0]:[_.view.():[2ndChild().style().display=none;3rdChild().style().display=flex;lastChild().txt()=_string;3rdChild().focus()];():'file-action-popup'.style():[opacity=0;pointerEvents=none;transform='scale(0)']]",
    "createNewCollection": "data:().editor.project.collections||=_list;new-collection:()=true;():'collection-sidebar'.insert():[view=():'new-collection'.children.0]:[_.view.input().focus();new-collection:()=false]",
    "createCollection": "if():[txt().lowercase()=collection]:[note():[text='Collection name cannot be collection neither collections!';danger]]:[save():[collection=_project_;data:().editor.project.collections||=_list;data:().editor.project.collections.push():txt();data=data:().editor.project;doc=project:();data:().editor.collections.[txt()]=_map]:[note():'Collection created successfully!';blur();update():collections]]",
    "removeCollection": "loader.show;myCollection=_.collection;search():[collection='collection-'+().myCollection;headers.project=project:()]:[data:().editor.collections.[().myCollection]=_.data;data:().editor.project.collections.pullItem():[().myCollection];data:().editor.collections.[().myCollection]._():[erase():[collection='collection-'+().myCollection;doc=_.key();headers.project=project:()]:[data:().editor.collections.[().myCollection].[_.key()].del()]];save():[collection=_project_;data=data:().editor.project;doc=project:()]:[note():'Collection deleted successfully!';loader.hide;update():collections]]"
  }
}