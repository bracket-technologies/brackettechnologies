{
  "view": "View?class=column;style:[minHeight=100vh];loaded:[checkSession()]",
  "children": [
    {
      "view": "droplist"
    },
    {
      "view": "note"
    },
    {
      "view": "tooltip"
    },
    {
      "view": "mininote"
    },
    {
      "view": "loader"
    },
    {
      "view": "manifest:().page"
    }
  ],
  "__props__": {
    "id": "G1J7H0m8X8q8A7s0R197b1d7l9",
    "creationDate": 1705157677389,
    "collapsed": [
      {
        "path": [
          "checkIfOpenPrevForm"
        ]
      },
      {
        "path": [
          "openSearchBox"
        ]
      },
      {
        "path": [
          "customCondition"
        ]
      }
    ],
    "comments": [
      {
        "note": "_:manager data",
        "path": [
          "openCreateForm"
        ]
      }
    ],
    "actions": {
      "callOpenCreateForm": "if():[createFormStack:().len()>0]:[openCreateForm():[manager=getManagerFromCollection():[collection=_.collection]]]:[openCreateForm():[manager=currentOpenManager:()]]",
      "setDefaultleftZero": "while():[[_.digits]-[_.text.toString().len()]>0]:[_.text=_.text*10];return():[_.text]",
      "openCreateForm": {
        "setGeneralPopup": "setInputInfo();generalPopup:()=[title=_.title||_.manager.popupInfo.title.clone();popupName=[_.manager.popupInfo.view||customForm];inputInfo=().inputInfo;docName=_.docName||_.manager.popupInfo.docName.clone();saveAction=_.manager.saveAction];if():[_.manager.permission]:[generalPopup:().permission=_.manager.permission;generalPopup:().defaultPermission=_.manager.defaultPermission];if():[_.docValues]:[generalPopup:().():[read=_.read;edit=_.edit;createable=_.createable;docValues=_.docValues]];openPopup()",
        "openPopup": "():generalPopup.update()::[loader.hide;():generalPopup.style():[visibility=visible;opacity=1]]",
        "setInputInfo": "if():[_.inputInfo]:[().inputInfo=_.inputInfo]:[if():[_.manager.createFormInputs.type()=map]:[().inputInfo=_.manager.createFormInputs.clone()]:[().inputInfo=sharedManagersInfo:().[_.manager.createFormInputs].createFormInputs.clone()]]",
        "_": "if():[!_.back]:[createFormStack:().push():[_.manager.identifier]];loader.show;setGeneralPopup()"
      },
      "getAllData": {
        "taha": "().ledgerAccounts._():[_.helper=setDefaultleftZero():[text=_.startsWith.[-1];digits=]];governmentAccounts:()=().ledgerAccounts.sort():[path=helper;ascending]",
        "arrangeLedgerAccounts": "().ledgerAccounts=_.data.allLedgersAccounts.values();taha()",
        "_": "getDataOnLoad()::[allLedgersAccounts:()=arrangeLedgerAccounts();creditNoteInfo:()=_.data.creditNoteInfo;debitNoteInfo:()=_.data.debitNoteInfo;publicData:()=_.data.publicData;setDueNotifications():[_.notification];sharedManagersInfo:()=_.data.sharedManagersInfo;charterInvoiceInfo:()=_.data.charterInvoiceInfo;tourInvoiceInfo:()=_.data.tourInvoiceInfo;ticketInvoiceInfo:()=_.data.ticketInvoiceInfo;journalsInfo:()=_.data.journalsInfo;paymentVoucherInfo:()=_.data.paymentVoucherInfo;expensesInfo:()=_.data.expensesInfo;receiptVoucherInfo:()=_.data.receiptVoucherInfo;accountingJournalInfo:()=_.data.transaction;generalLedgerInfo:()=_.data.generalLedgerInfo;accountingInfo:()=_.data.accountingInfo;accountingServiceInfo:()=_.data.accountingServiceInfo;bracketSheetTable:()=_.data.bracketSheetTable;collectionsInfo:()=_.data.collectionsInfo.globalPathes.managers;financeManagerInfo:()=_.data.financeManagerInfo;galleryManagerInfo:()=_.data.galleryManagerInfo;governmentAccounts:()=_.data.governmentAccounts.value().data;groupManagerInfo:()=_.data.groupManagerInfo;hotelBookingInfo:()=_.data.hotelBookingInfo;inventoryManagerInfo:()=_.data.inventoryManagerInfo;offerManagerInfo:()=_.data.offerManagerInfo;referenceManagerInfo:()=_.data.referenceManagerInfo;settingsInfo:()=_.data.settingsInfo;tableInfo:()=_.data.tableInfo;printView:()=_.data.printView]"
      },
      "customCondition": {
        "handelIfConditionReferenceExistForOrCondition": "if():[_.conditionReferenceInPath]:[if():[__.data.[__.path].[__.index].[_.conditionReferenceInPath]]:[().isConditionTrue=true]].elif():[_.conditionReferenceInDoc]:[if():[__.data.[_.conditionReferenceInDoc]]:[().isConditionTrue=true]].elif():[conditionReference]:[if():[__.data.[__.path].[__.index].[_.conditionReference]||__.data.[_.conditionReference]]:[().isConditionTrue=true]]",
        "checkConditionInData": "if():[_.condition]:[loopOverCondition()].elif():[_.orCondition]:[loopOverOrCondition()]",
        "handleNotConditionInPath": "if():[_.notCondition.inc():[__.data.[__.path].[__.index].[_.conditionReference]()]]:[().isConditionTrue=false]",
        "checkConditionReferenceTypeInPath": "if():[_.conditionReferenceInPath]:[checkAndConditionOperatorsInPath()].elif():[_.conditionReferenceInDoc]:[checkAndConditionOperatorsInData()].elif():[_.conditionReference]:[if():[__.data.[__.path].[__.index].[_.conditionReference]]:[checkAndConditionOperatorsInPath()]:[checkAndConditionOperatorsInData()]]",
        "handleOrNotConditionInData": "if():[!_.notCondition.inc():[__.data.[_.conditionReference]()]]:[().isConditionTrue=true]",
        "loopOverCondition": "().isConditionTrue=true;_.condition._():[if():[_.condition]:[checkAndConditionOperatorsInData()].elif():[_.notCondition]:[handleNotConditionInData()].elif():[_.conditionReference]:[if():[!__.data.[_.conditionReference]]:[().isConditionTrue=false]].elif():[_.notConditionReference]:[if():[__.data.[_.notConditionReference]]:[().isConditionTrue=false]]]",
        "checkOrConditionReferenceTypeInPath": "if():[_.conditionReferenceInPath]:[checkOrConditionOperatorsInPath()].elif():[_.conditionReferenceInDoc]:[checkOrConditionOperatorsInData()].elif():[_.conditionReference]:[if():[__.data.[__.path].[__.index].[_.conditionReference]]:[checkOrConditionOperatorsInPath()]:[checkOrConditionOperatorsInData()]]",
        "handleNotConditionInData": "if():[_.notCondition.inc():[__.data.[_.conditionReference]]]:[().isConditionTrue=false]",
        "handelIfConditionReferenceExist": "if():[_.conditionReferenceInPath]:[if():[!__.data.[__.path].[__.index].[_.conditionReferenceInPath]]:[().isConditionTrue=false]].elif():[_.conditionReferenceInDoc]:[if():[!__.data.[_.conditionReferenceInDoc]]:[().isConditionTrue=false]].elif():[conditionReference]:[if():[!__.data.[__.path].[__.index].[_.conditionReference];!__.data.[_.conditionReference]]:[().isConditionTrue=false]]",
        "checkOrConditionOperatorsInPath": "if():[_.operator]:[if():[[_.condition+_.operator+__.data.[__.path].[__.index].[_.conditionReference]]()]:[().isConditionTrue=true]]:[if():[_.condition.inc():[__.data.[__.path].[__.index].[_.conditionReference]]]:[().isConditionTrue=true]]",
        "handleOrNotConditionInPath": "if():[_.notCondition.inc():[__.data.[__.path].[__.index].[_.conditionReference]()]]:[().isConditionTrue=true]",
        "checkConditionInPath": "if():[_.condition]:[loopOverConditionInPath()].elif():[_.orCondition]:[loopOverOrConditionInPath()]",
        "loopOverConditionInPath": "().isConditionTrue=true;_.condition._():[if():[_.condition]:[checkConditionReferenceTypeInPath()].elif():[_.notCondition]:[handleNotConditionInPath()]:[handelIfConditionReferenceExist()]]",
        "checkConditionType": "if():[_.path;_.index]:[checkConditionInPath()]:[checkConditionInData()]",
        "checkAndConditionOperatorsInData": "if():[_.operator]:[if():[![_.condition+_.operator+__.data.[_.conditionReference]]()]:[().isConditionTrue=false]]:[if():[!_.condition.inc():[__.data.[_.conditionReference]]]:[().isConditionTrue=false]]",
        "loopOverOrCondition": "().isConditionTrue=false;_.orCondition._():[if():[_.condition]:[checkOrConditionOperatorsInData()].elif():[_.notCondition]:[handleOrNotConditionInData].elif():[_.conditionReference]:[if():[__.data.[_.conditionReference]]:[().isConditionTrue=true]]]",
        "loopOverOrConditionInPath": "().isConditionTrue=false;_.orCondition._():[if():[_.condition]:[checkOrConditionReferenceTypeInPath()].elif():[_.notCondition]:[handleOrNotConditionInPath()]:[handelIfConditionReferenceExistForOrCondition()]]",
        "checkOrConditionOperatorsInData": "if():[_.operator]:[if():[[_.condition+_.operator+_.conditionReference]()]:[().isConditionTrue=true]]:[if():[_.condition.inc():[__.data.[_.conditionReference]]]:[().isConditionTrue=true]]",
        "checkAndConditionOperatorsInPath": "if():[_.operator]:[if():[![_.condition+_.operator+__.data.[__.path].[__.index].[_.conditionReference]]()]:[().isConditionTrue=false]]:[if():[!_.condition.inc():[__.data.[__.path].[__.index].[_.conditionReference]]]:[().isConditionTrue=false]]",
        "_": "checkConditionType();return():[().isConditionTrue]"
      },
      "openSearchBox": {
        "fillSearchEngineInputs": "().group=collectionsInfo:().find():[managers.():collection.inc():[_.collection]];().manager=[().group.groupName]:().[().group.managers.find():[_.collection].manager];setSearchBoxCustomInputs()",
        "pushPathData": "generalPopup:().():[path=_.path;index=_.index]",
        "pushListNameData": "generalPopup:().():[listName=_.listName;maxSelected=_.maxSelected]",
        "setSearchBoxCustomInputs": "if():[().manager.searchEngineInputs.type()=array]:[searchBoxCustomInputs:()=().manager.searchEngineInputs.clone()]:[searchBoxCustomInputs:()=sharedManagersInfo:().[().manager.searchEngineInputs].searchEngineInputs.clone()];if():[_.allowedLedgers]:[searchBoxCustomInputs:().0.allowedLedgers=_.allowedLedgers]:[searchBoxCustomInputs:().0.allowedLedgers.del()]",
        "fillGeneralPopupCommonParams": "generalPopup:().():[title='Search Box';popupName=searchBoxPage;docName=_.docName;collection=_.collection;hideButtons=_.hideButtons;searchEngineDefaultValues=_.searchEngineDefaultValues;autoSearch=_.autoSearch;addFalse=_.addFalse;uploadFalse=_.uploadFalse;downloadFalse=_.downloadFalse;printFalse=_.printFalse]",
        "pushVarNameData": "generalPopup:().():[varName=[_.varName]();maxSelected=1]",
        "_": "if():[!_.back]:[createFormStack:().push():[searchbox=true;[_].flat()]];generalPopup:()=[];if():[_.path]:[pushPathData()];if():[_.varName]:[pushVarNameData()]:[pushListNameData()];fillGeneralPopupCommonParams();if():[_.searchEngineInputs]:[searchBoxCustomInputs:()=_.searchEngineInputs]:[fillSearchEngineInputs()];():generalPopup.update()::[():generalPopup.style():[visibility=visible;opacity=1]]"
      },
      "checkIfOpenPrevForm": {
        "callOpenCreateForm": "openCreateForm():[back=true;manager=getManagerFromCollection():[collection=createFormStack:().at():[-1]]]",
        "callSearchBox": "openSearchBox():[back=true;[createFormStack:().[-1]].flat()]",
        "[object Object]": "if():[createFormStack:().len()>1]:[createFormStack:().pullItem():[createFormStack:().at():[-1]];().group=collectionsInfo:().find():[managers.():collection.inc():[createFormStack:().at():[-1]]];manager=[().group.groupName]:().[().group.managers.find():[collection=createFormStack:().at():[-1]].manager];#if():[_.data]:[addResponseInDoc()];updatePopup()]:[closeGeneralPopup()]",
        "_": "if():[createFormStack:().len()>1]:[#[_.docName]:().del();createFormStack:().pullItem():[createFormStack:().[-1]];if():[createFormStack:().at():[-1].searchbox]:[callSearchBox()]:[callOpenCreateForm()]]:[createFormStack:()=:;closeGeneralPopup()]"
      },
      "setDueNotifications": "dueNotifications:()=_;():notificationIcon.update();",
      "getManagerFromManagerName": "().group=collectionsInfo:().find():[managers.():manager.inc():[_.manager]];().manager=[().group.groupName]:().[_.manager];return():[().manager]",
      "checkSession": {
        "checkSessionExist": "login():[session=getCookie():session]:[if():[_.success]:[loader.show;getAllData()::[setCookie():[name=session;value=_.session];userData:()=_.data;updateProfileName();():sidebar.update()::[loader.hide];[route():'main'?manifest:().page!=main]]]:[route():login?manifest:().page!=login?loader.hide;eraseCookie():session;note():[text=_.message;danger]]]",
        "updateProfileName": "if():[!mobile()]:[():profileName.txt()=userData:().firstName.capitalize()+' '+userData:().lastName.capitalize();():branchDroplist.txt()=userData:().branch.find():[headQuarter].name]:[():mobileProfileName.txt()=userData:().firstName.0.capitalize()+userData:().lastName.0.capitalize()]",
        "_": "if():[getCookie():session]:[loader.show;checkSessionExist()]:[route():login?manifest:().page!=login]?!userData:()"
      },
      "getManagerFromCollection": "().group=collectionsInfo:().find():[managers.():collection.inc():[_.collection]];().manager=[().group.groupName]:().[().group.managers.find():[collection=_.collection].manager];return():[().manager]"
    },
    "docName": "root",
    "folderPath": [],
    "confidential": {
      "projectPublicID": "71j7R0d8Z8p7E0d0n081r1e854"
    }
  }
}