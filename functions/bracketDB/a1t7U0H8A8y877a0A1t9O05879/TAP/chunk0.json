[["subscribeThroughTAP","actions","a|0|1","__props__","a|3","id","doc","counter","creationDate","active","chunk","createdByUserID","comments","collapsed","collection","a|5|6|7|8|9|1|A|B|C|D|E","91Z7Y1a394u4f5S4H81209G8Y9","n|G","n|UAIkd1Z","b|T","createBranch","a|0|K","_","createAccount","createProject","createSubscription","createBillingAccount","checkPlugin","checkEmail","conditions","updateSession","subscribedSuccessfully","a|M|N|O|P|Q|R|S|T|U|V","[data:()=_;[checkPlugin()?data:().subscribetoTAP?checkEmail()]?conditions()?send():[success=false;msg=Missing data!]]?_.agreeToTermsAndConditions?send():[success=false;msg=Agree to terms & conditions to get started!]","createUser","a|M|Y","account:()=[email=data:().email];save():[collection=account;data=account:()]:[account:()=_.data;createUser()]","createPermission","createPassword","checkUsername","modifyUsername","initUserData","checkUsernameLength","a|M|b|c|d|e|f|Y|g","initUserData();checkUsername()","permission:()=[userID=user:().id();accountID=account:().id();projects=:;admin=true;canAccessConsole=false;canCreateProject=true];save():[collection=permission;data=permission:()]:[permission:()=_.data]","password:()=[userID=user:().id();accountID=account:().id();password=data:().password];save():[collection=password;data=password:()]","search():[collection=user;find:[username=user:().username]]:[createUser()?!_.data.value()?modifyUsername()]","().usernameCounter+=1;user:().username=data:().firstName.lowercase()+data:().lastName.lowercase()+().usernameCounter;checkUsernameLength();checkUsername()","usernameCounter=0;user:()=[firstName=data:().firstName;lastName=data:().lastName;accountID=account:().id();username=data:().firstName.lowercase()+data:().lastName.lowercase();tapUser=true];checkUsernameLength()","save():[collection=user;data=user:()]:[user:()=_.data;createPassword()]","user:().username+=1;checkUsernameLength()?user:().username.len()<5","o|h|i|j|k|l|m|n|o|p","o|Z|a|q","initProjectData","checkSubdomain","modifySubdomain","domains","a|M|s|t|u|O|v","initProjectData();checkSubdomain()","subdomainCounter=0;project:()=[name=data:().organization;accountID=account:().id();db=gen():[universal=true];subdomain=[data:().subdomain||data:().organization.camelcase()]]","search():[collection=project;find:[subdomain=project:().subdomain]]:[createProject()?!_.data.value()?modifySubdomain()]","().subdomainCounter+=1;project:().subdomain=data:().organization.camelcase()+().subdomainCounter;checkSubdomain()","domains();save():[collection=project;data=project:()]:[project:()=_.data;[createPermission()]():[path=:subscribeThroughTAP:createAccount:createUser]]","project:().domains=:[project:().subdomain+'.brackettechnologies.com']:[project:().subdomain+'.localhost']","o|w|x|y|z|10|11|12","initSubscription","a|M|14|P","initSubscription();createSubscription()","subscription:()=[accountID=account:().id();projectID=project:().id();pluginID=plugin:().id();subscriptionDate=timestamp();expiryDate=timestamp()+plugin:().freeTierDuration;status=Confirmed]","save():[collection=subscription;data=subscription:()]:[subscription:()=_.data]","o|15|16|17|18","initBillingAccount","a|M|1A|Q","initBillingAccount();createBillingAccount()","billingAccount:()=[name=coin;accountID=accountID:().id();accountType=business;country=data:().country;creditLimit=0;currency=COIN;languagePreference=data:().language;organizationAddress=data:().address;organizationName=data:().organization;paymentTerms=Monthly]","save():[collection=billingAccount;data=billingAccount:()]:[billingAccount:()=_.data]","o|1B|1C|1D|1E","resHandler","a|M|1G","search():[collection=plugin;find:[name=Travel Accounting Platform;releaseDate.'<'=timestamp();expiryDate.'>='=timestamp()]]:[resHandler()]","plugin:()=_.data.value();checkEmail()?_.data.value()?send():[msg=Cannot subscribe to TAP!;success=false]","o|1H|1I|1J","subscribe","a|M|1L","search():[collection=account;find:[email=data:().email]]:[subscribe()?!_.data.value()?send():[success=false;msg=Email already exists!]]","[createAccount()::[createProject()::[createBillingAccount()::[createSubscription()?data:().subscribetoTAP]]]]()::[updateSession()::[subscribedSuccessfully()]]","o|1M|1N|1O","_.email;_.password;_.organization;_.country;_.city;_.address;_.language;_.firstName;_.lastName;_.phoneNumber","updateUserInfo","updatePermissionInfo","saveSession","updateSubscriptionInfo","a|M|1R|1S|1T|1U","updateUserInfo();updatePermissionInfo();updateSubscriptionInfo();saveSession()","manifest:().session.userID=user:().id();manifest:().session.userName=user:().firstName+ +user:().lastName","manifest:().session.permissions=permission:();manifest:().session.permissionID=permission:().id()","save():[collection=session;data=manifest:().session]","manifest:().session.plugins=:[accessKey=plugin:().accessKey;plugins=plugin:().plugins]?data:().subscribetoTAP","o|1V|1W|1X|1Y|1Z|1a","send():[success=true;msg=Subscribed successfully!;user=[firstName=user:().firstName;lastName=user:().lastName;username=user:().username]]","o|W|X|r|13|19|1F|1K|1P|1Q|1b|1c","getUser","a|M|1e","getUser()::[[createProject()]():[path=:subscribeThroughTAP]:[]]?manifest:().session.userID;manifest:().session.permissions.canCreateProject","search():[collection=user;find.'__props__.id'=manifest:().session.userID]:[user:()=_.data.value()]","o|1f|1g|1h","o|L|1d|1i","chunk0","41V7H078W8I8I780z1m9Y2E4Y2","a|","path","a|1n","a|0|Q","o|1o|1p","a|0|P","o|1o|1r","a|0|U","o|1o|1t","a|0|S","o|1o|1v","a|0|R","o|1o|1x","a|0|N","o|1o|1z","a|1q|1s|1u|1w|1y|20","TAP","o|F|G|0|H|I|J|1j|1k|1l|1m|21|22","o|4|23","secured","a|5|6|7|8|9|1|A|E|B|C|D|25","21S7A1V3N6l114C395f2t1z3Z8","n|1","n|UAUBBbW","getTAPpageData","getProjects","a|2A|2B","getCurrencies","getCountries","getDBkey","a|M|2D|2E|2F","getDBkey()::[[getCurrencies();getCountries()]()::[send():[countries=countries:();currencies=currencies:()]]]","search():[db=dbkey:();collection=sheet;find.name=Countries]:[countries:()=_.data.value().data.():country]","search():[db=dbkey:();collection=sheet;find.name=Currencies]:[currencies:()=_.data.value().data.():code]","search():[collection=credentials;doc=TAP]:[dbkey:()=_.data.dbkey]","o|2G|2H|2I|2J|2K","start();[search():[collection=project;find.'__props__.id'.in=manifest:().session.permissions.projects.():projectID]:[resHandler()]?manifest:().session.userID?end():[success=false]?stack().renderer?send():[success=false]]","projects:()=:;_.data.values()._():[projects:()+=[name=_.name;subdomain=_.subdomain;url='http://'+_.domains.1]];[end():[success=true;projects=projects:()]?stack().renderer?send():[success=true;projects=projects:()]]","o|1H|2M|2N","o|2C|2L|2O","o|26|27|1|28|29|J|2P|1k|22|1l|1m|1m|J","o|4|2Q","o|2|24|2R"],"2S"]