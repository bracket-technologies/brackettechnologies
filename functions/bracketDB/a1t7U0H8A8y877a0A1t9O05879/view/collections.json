{
  "view": "View:collections",
  "children": [
    {
      "view": "[View]:[data=collections:();mount]?style:[width=100%]?data()",
      "children": [
        {
          "view": "View:[data()]?class=flex pointer align-center;hover.style.backgroundColor=#e9e9e9;style:[minHeight=3rem;width=100%;position=relative];click:[openCollectionFolder()];mouseenter:[displayOptionsIcons()];mouseleave:[hideOptionsIcons()]",
          "children": [
            {
              "view": "Icon?name=bi-chevron-right;style:[fontSize=1.3rem;width=2.25rem;transition=.2s;transform='rotate(0deg)']"
            },
            {
              "view": "Text?class=dots;text=data();style.fontSize=1.3rem"
            },
            {
              "view": "Icon?tooltip.text=create new doc;name=bi-plus;style:[backgroundColor=inherit;display=none;color=#000;fontSize=1.9rem;position=absolute;right=2.5rem;height=3rem;width=2rem;borderRadius=.25rem];hover.style.color=blue;click:[clickCreateNewDoc()]"
            },
            {
              "view": "Icon?name=bi-three-dots-vertical;style:[backgroundColor=inherit;display=none;color=#000;fontSize=1.9rem;position=absolute;right=.5rem;height=3rem;width=2rem;borderRadius=.25rem];hover.style.color=blue;droplist:[items=:[icon='bi-trash'];item.style:[fontSize=2rem];placement=right;align=center];[click:dorplist?removeCollection():[collection=data()]]"
            },
            {
              "view": "View?class=pointer;tooltip.text=import;style:[display=none;backgroundColor=inherit;position=absolute;right=4.5rem;height=3rem;width=2rem;borderRadius=.25rem;overflow=hidden]",
              "children": [
                {
                  "view": "Icon?name=bi-download;style:[color=#000;fontSize=1.5rem];hover.color=blue"
                },
                {
                  "view": "Input?input.type=file;style:[opacity=0;height=10rem;width=10rem;position=absolute;zIndex=1];[change?importDoc()]"
                }
              ]
            }
          ]
        },
        {
          "view": "View:[data()+'-list']?class=flex column;style:[marginLeft=1.2rem;borderLeft=1px solid #ddd]",
          "children": [
            {
              "view": "[View]:[data=data:().editor.[parent().data()].keys();mount]?class=flex pointer align-center;style:[minHeight=3rem;width=100%;position=relative];loaded:[loadedHandler()];click:[displayOpenedDoc();openDoc()];mouseenter:[showOptionIcon()];mouseleave:[hideOptionIcon()]?data()||[!openDoc:();openCollection:()=parent().data()]",
              "children": [
                {
                  "view": "Icon?name=bi-file-earmark;style.fontSize=1.3rem;style.minWidth=2.25rem;click:[2ndNext().focus()]"
                },
                {
                  "view": "Text?class=dots;text=data();style.fontSize=1.3rem"
                },
                {
                  "view": "Input?class=dots;input.value=data();preventDefault;input.style.padding=0;style:[fontSize=1.3rem;border=0;height=3rem;padding=0;display=none;width='calc(100% - 2.25rem)'];mouseenter:[next().style().display=flex];mouseleave:[next().style().display=none];blur:[blurEdit()];keyup:[escapeEdit();issueInDocName();editDocName();createDoc()]"
                },
                {
                  "view": "Icon?openDoc=data();openCollection=2ndParent().data();name='bi-three-dots-vertical';style:[fontSize=1.8rem;width=2rem;height=3rem;position=absolute;right=0;display=none;backgroundColor=#e9e9e9;borderRadius=.25rem];hover.style.color=blue;click:[toggleActionPopup()]"
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "__props__": {
    "db": "views",
    "collection": "d17770q8A8Z7l0Q0l031g188q9",
    "id": "41A7R1L023z3V0s7Y8B6f4b8q4",
    "doc": "collections",
    "creationDate": 1710330786484,
    "active": true,
    "createdByUserID": "41V7H078W8I8I780z1m9Y2E4Y2",
    "actions": {
      "clickCreateNewDoc": "parent().next().style().display=flex;2ndPrev().style().transform='rotate(90deg)';if():[!duplicateDoc:()]:[openDoc:().del()];openCollection:()=data();parent().next().insert():[view=parent().next();viewPath=:children:0;preventDefault;index=0]:[_.view.():[2ndChild().style().display=none;3rdChild().():[style().display=flex;txt()='';focus()]];hideActionPopup()]",
      "editDocName": {
        "_": "openCollection:()=2ndParent().data();editDoc()?openDoc:();e().key=Enter||e().key=Tab;txt();!data:().editor.[2ndParent().data()].[txt()];!txt().inc():' '",
        "editDoc": "newDocName:()=txt();data:().editor.[openCollection:()].[txt()]=data:().editor.[openCollection:()].[openDoc:()].clone();loader.show;[saveNewDocName();eraseEditedDoc()]()::[editHandler()]",
        "saveNewDocName": "save():[db=projectDB:();collection=openCollection:();doc=txt();data=data:().editor.[openCollection:()].[txt()]]",
        "editHandler": "loader.hide;note():[text=if():[!duplicateDoc:()]:'Document name changed successfully!':'Document duplicated successfully!'];if():[!duplicateDoc:()]:[data:().editor.[openCollection:()].[openDoc:()].del()];():[2ndParent().data()+'-list'].update()::[duplicateDoc:().del();closeTab();openNewTab()]",
        "closeTab": "():dataViewerBar.children().find():[openDoc=openDoc:();openCollection=openCollection:()].lastChild().click()",
        "openNewTab": "():[openCollection:()+'-list'].children().find():[data()=newDocName:()].click()",
        "eraseEditedDoc": "if():[!duplicateDoc:()]:[erase():[db=projectDB:();collection=openCollection:();doc=openDoc:()]]"
      },
      "createDoc": {
        "_": "openCollection:()=2ndParent().data();createDoc()?!openDoc:();e().key=Enter||e().key=Tab;!data:().editor.[2ndParent().data()].[txt()];!txt().inc():' '",
        "createDoc": "openData:()=[view='View:'+txt()];loader.show;save():[db=projectDB:();collection=openCollection:();doc=txt();data=openData:()]:[loader.hide;data:().editor.[openCollection:()].[_.data.__props__.doc]=_.data;note():[text='Document created successfully!'];():[2ndParent().data()+'-list'].update()]"
      }, 
      "importDoc": {
        "existenceNote": "note():[text=Document name exists!;danger]",
        "saveDoc": "loader.show;openData:()=_.data.data;save():[db=projectDB:();collection=openCollection:();data=openData:();doc=openDoc:()]:[note():[text=Document imported successfully!];data:().editor.[openCollection:()].[openDoc:()]=openData:();():[openCollection:()+'-list'].update();loader.hide;el().value='']",
        "_": "openCollection:()=data();read():[data=file();type=json]:[openDoc:()=_.data.name.split():'.json'.0;if():[!data:().editor.[openCollection:()].[openDoc:()]]:[saveDoc()]:[existenceNote()]]"
      },
      "toggleActionPopup": "if():[():actionPopup.style().opacity='1';actionPopupCaller:()=().id]:[hideActionPopup()]:[actionPopupCaller:()=().id;openActionPopup()];openDoc:()=data();openCollection:()=2ndParent().data();():actionPopup.caller=().id;():actionPopup.position():[positioner=().id;placement=right]",
      "issueInDocName": "problemEditingCreateDoc():[view=2ndParent().data();collection=2ndParent().data();]?e().key=Enter||e().key=Tab;txt()=publics;data:().editor.[2ndParent().data()].keys().inc():txt()||!txt()||txt().inc():",
      "hideOptionsIcons": "lastChild().style().display=none;2ndLastChild().style().display=none;3rdLastChild().style().display=none",
      "hideOptionIcon": "lastChild().style().display=none;style().backgroundColor=inherit",
      "blurEdit": "cancelEditCreateDoc():[view=2ndParent().data();collection=2ndParent().data();]?!parent().contains():[clicked()]",
      "showOptionIcon": "style().backgroundColor=#e9e9e9;lastChild().style().display=flex?3rdChild().style().display=none",
      "openCollectionFolder": {
        "_": "openCollection:()=data();searchDocs()?!3rdChild().contains():[clicked()];!lastChild().contains():[clicked()];!2ndLastChild().contains():[clicked()]",
        "searchDocs": "if():[1stChild().style().transform='rotate(0deg)'||3rdChild().contains():[clicked()]]:[loader():show;next().children().():rem();searchDocsRequest()]:closeFolder()",
        "closeFolder": "1stChild().style().transform='rotate(0deg)';next().children().():rem();hideOptionsIcons()",
        "searchDocsRequest": "search():[db=projectDB:();collection=openCollection:()]:[data:().editor.[openCollection:()]=_.data;1stChild().style().transform='rotate(90deg)';loader():hide;next().update()::[next().style().display=flex]]"
      },
      "displayOptionsIcons": "3rdLastChild().style().display=flex;2ndLastChild().style().display=flex;lastChild().style().display=flex?1stChild().style().transform='rotate(90deg)'",
      "loadedHandler": "if():[new-file-created:();mapIndex=data:().editor.[parent().data()].keys().len()-1]:[new-file-created:().del();parent().style().display=flex;parent().prev().1stChild().style().transform='rotate(90deg)';click()]",
      "escapeEdit": "cancelEditCreateDoc():[view=2ndParent().data();collection=2ndParent().data();]?e().key=Escape",
      "openDoc": {
        "_": "initOpens();displayViews();hideOtherData();[loader.show;insertTab();insertData();insertActions()]()::[loader.hide]?!lastChild().contains():[clicked()];!2ndLastChild().contains():[clicked()];!openDocs:().inc():[parent().data()+'/'+data()]",
        "initOpens": "openDoc:()=data();openCollection:()=parent().data();openData:()=data:().editor.[openCollection:()].[openDoc:()].clone();openDocs:().push():[openCollection:()+'/'+openDoc:()]",
        "displayViews": "():dataViewerBar.style().display=flex;():mainActionsContainer.style().height=actionsHeight:()+rem;():dataViewer.style().height='calc(100% - '+actionsHeight:()+'rem)';():mainActionsContainer.style().display=flex",
        "hideOtherData": "className():dataViewer.():[style().display=none];():dataViewerBar.children().():[style().backgroundColor=inherit;hover.disable=false];className():actions.():[style().display=none]",
        "insertTab": "():dataViewerBar.insert():[view=():dataViewerBar;viewPath=:children:0;index=():dataViewerBar.children().len();preventDefault;data=openCollection:()+'/'+openDoc:()]:[_.view.():[style().backgroundColor=#fff;hover.disable=true;openDoc=openDoc:();openCollection=openCollection:()]]",
        "insertData": "():dataViewer.insert():[view=():dataViewer;viewPath=:children:0;index=():dataViewerBar.children().len();preventDefault;data=openData:();index=():dataViewer.children().len()]:[_.view.():[openDoc=openDoc:();openCollection=openCollection:();openData=openData:()]]",
        "insertActions": "():actions.insert():[view=():actions;viewPath=:children:0;preventDefault;data=[openData:().__props__.actions||[]]]:[_.view.():[openDoc=openDoc:();openCollection=openCollection:()]]"
      },
      "displayOpenedDoc": {
        "_": "[initOpens();displayViews();hideOtherData()]():[path=openDoc];displayTab();displayData();displayActions()?clicked().id!=lastChild().id;openDocs:().inc():[parent().data()+'/'+data()]",
        "displayActions": "className():actions.find():[openDoc=openDoc:();openCollection=openCollection:()].style().display=flex",
        "displayData": "className():dataViewer.find():[openCollection=openCollection:();openDoc=openDoc:()].():[style().display=flex;openData:()=().openData]",
        "displayTab": "():dataViewerBar.children().find():[openDoc=openDoc:();openCollection=openCollection:()].():[style().backgroundColor=#fff;hover.disable=true]"
      }
    },
    "folderPath": [],
    "version": 0,
    "projectID": "K1x7d0l898q817C0w1W9c2j4d6",
    "counter": 10
  }
}