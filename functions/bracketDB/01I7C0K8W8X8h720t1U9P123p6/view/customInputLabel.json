{
  "view": "View:customInputLabel?class=flex;style:[padding=.4rem;textAlign=start;gap=.4rem;justifyContent=space-between]?_.inputLabel||true",
  "children": [
    {
      "view": "View?class=flex;style:[textAlign=start;gap=.4rem;overflow=hidden]",
      "children": [
        {
          "view": "Icon?name=_.icon;google.symbol;style:[fontSize=1.5rem;color=#555]?false;_.icon"
        },
        {
          "view": "Text?inputLabelHandler();style:[if():[_.hotCreatable]:[text-decoration=underline;cursor=pointer];fontSize=1.3rem;color=if():[_.required]:[handleRequiredLabel()];textAlign=start;text-overflow=ellipsis;overflow=hidden;whiteSpace=nowrap];if():[_.hotCreatable]:[handleHotCeatableEvents()];tooltip:[text=txt();#if():[_.question]:[_.inputLabel+'？']:[_.inputLabel]]?!_.editableLabel"
        },
        {
          "view": "Input?placeholder=_.inputLabel;path=_.labelPath;style:[fontSize=1.3rem;color=#555;textAlign=start;text-overflow=ellipsis;overflow=hidden;whiteSpace=nowrap;height=2rem;width=80%;padding=0];tooltip:[text=if():[_.question]:[_.inputLabel+'？']:[_.inputLabel]];blur:[next().style().opacity=1];focus:[next().style().opacity=0]?_.editableLabel"
        },
        {
          "view": "Text?text=' *';style:[fontSize=1.3rem;color=#e54643]?customCondition():[data=doc();condition=_.required];!____.readonly"
        }
      ]
    },
    {
      "view": "View?class=flex;style:[textAlign=start;gap=.4rem]",
      "children": [
        {
          "view": "Icon?name=_.icon2;google.symbol;style:[marginTop=.3rem;fontSize=1.5rem;color=#555;cursor=pointer];click:[parent().prev().1stChild().focus();style().opacity=0]?_.icon2"
        },
        {
          "view": "View?class=flexbox;style:[height=2rem;width=2rem;borderRadius=.2rem;border=1px solid #ddd;cursor=pointer];click:[openHotCreateForm()]?_.labelHotCreateable",
          "children": [
            {
              "view": "Icon?name=Add;google.symbol;style:[fontSize=1.5rem]"
            }
          ]
        }
      ]
    }
  ],
  "__props__": {
    "id": "X1U7L1r140e341U3C6Z5h1T9J9",
    "doc": "customInputLabel",
    "creationDate": 1711031365199,
    "active": true,
    "createdByUserID": "41V7H078W8I8I780z1m9Y2E4Y2",
    "actions": {
      "#handleIfListOfMapww": "_.allowedLedgers._():[().isTrue=true;if():[customCondition():[data=doc().clone();condition=_.condition]]:[().isTrue=false];if():[().isTrue]:[().allowedLedger=_.allowedLedgers]];().inputText=if():[().allowedLedger]:[_.inputLabel+' ('+().allowedLedger.join():['-']+')']:[_.inputLabel];().text=().inputText",
      "handleHotCeatableEvents": {
        "callOpenHotCreateFormForAccount": {
          "readFromDroplistText": "openCreateForm():[title=generalLedgerInfo:().values().find():[ledgerAccountName=().ledger].popupInfo.title;manager=getManagerFromCollection():[collection=account];docDefaultValues=[ledgerAccountName=generalLedgerInfo:().values().find():[ledgerAccountName=().ledger].ledgerAccountName]]",
          "readFromAllowedLedgers": "openCreateForm():[title=generalLedgerInfo:().values().find():[ledgerAccountCode=().LedgerChecker.0.toString().0].popupInfo.title;manager=getManagerFromCollection():[collection=account];docDefaultValues=[ledgerAccountName=generalLedgerInfo:().values().find():[ledgerAccountCode=().LedgerChecker.0.toString().0].ledgerAccountName]]",
          "_": "if():[().LedgerChecker.len()=1]:[readFromAllowedLedgers()]:[readFromDroplistText()]"
        },
        "handleOpenHotCreateFormForAccount": {
          "getLedgerAccountNamesFromCodes": "return():[generalLedgerInfo:().values().filter():[ledgerAccountCode.in():[().LedgerChecker]]]",
          "specificLedger": {
            "checkAllowedLedgers": "().LedgerChecker=:;().LedgerChecker.push():[2ndParent().next().1stChild().allowedLedgers.0.toString().0];2ndParent().next().1stChild().allowedLedgers._():[().LedgerChecker.replace():[[_].toString().0]];if():[().LedgerChecker.len()=1]:[return():[false]]:[return():[true]]",
            "checkStartsWith": "().LedgerChecker=:;().LedgerChecker.push():[_.startsWith.list().0.toString().0];_.startsWith._():[().LedgerChecker.replace():[[_].toString().0]];if():[().LedgerChecker.len()=1]:[return():[false]]:[return():[true]]",
            "_": "if():[_.includeLegerAccounts;_.includeLegerAccounts.startsWith!='all']:[checkStartsWith()].elif():[2ndParent().next().1stChild().allowedLedgers]:[checkAllowedLedgers()]:[().LedgerChecker=generalLedgerInfo:().values().():ledgerAccountCode;return():[true]]"
          },
          "_": "if():[specificLedger()]:[().droplist.items=getLedgerAccountNamesFromCodes().():ledgerAccountName]:[().mhmd=true]"
        },
        "_": "mouseenter:[style().color=#3290ff];mouseleave:[if():[_.required]:[style().color=#e54643]:[style().color=#555]];timer():[if():[_.collection='account'||true]:[handleOpenHotCreateFormForAccount()]:[callOpenCreateForm()]]:0;droplist:[preventDefault];():droplist.click:[().ledger=clicked().txt();callOpenHotCreateFormForAccount()];click:[if():[().mhmd]:[[callOpenHotCreateFormForAccount()]]]"
      },
      "inputLabelHandler": {
        "handleIncludeLegerAccounts": "if():[_.includeLegerAccounts.type()=array]:[handleIncludeLegerAccountsCondition()]:[text=_.inputLabel+' ('+_.includeLegerAccounts.startsWith+')']",
        "handleNormalLabel": "if():[_.inputLabel.type()=array]:[handleLabelCondition()]:[text=_.inputLabel]",
        "handleIncludeLegerAccountsCondition": "_.includeLegerAccounts._():[if():[customCondition():[data=doc().clone();condition=_.condition]]:[().text=_.startsWith]];text=_.inputLabel+' ('+().text+')'",
        "handleIfMapOrList": "if():[_.allowedLedgers.type()=map]:[if():[[_.allowedLedgers.condition]()]:[text=_.inputLabel+' ('+_.allowedLedgers.allowedLedgers.join():['-']+')']:[text=_.inputLabel]]:[text=_.inputLabel+' ('+_.allowedLedgers.join():['-']+')']",
        "handleLabelCondition": "_.inputLabel._():[if():[customCondition():[data=doc().clone();condition=_.condition]]:[().text=_.inputLabel]]",
        "_": "if():[_.includeLegerAccounts;_.includeLegerAccounts.startsWith!='all']:[handleIncludeLegerAccounts()].elif():[_.allowedLedgers]:[if():[_.allowedLedgers.type()=array;_.allowedLedgers.0.type()=map]:[handleIfListOfMap()]:[handleIfMapOrList()]]:[if():[_.question]:[text=_.inputLabel+'？']:[handleNormalLabel()]]"
      },
      "handleRequiredLabel": {
        "handleRequiredCondition": "if():[customCondition():[data=doc();condition=_.required]]:[return():['#e54643']]:[return():['#555']]",
        "_": "if():[_.required.type()=array]:[return():[handleRequiredCondition()]]:[return():['#e54643']]"
      },
      "openHotCreateForm": {
        "callOpenHotCreateFormForAccount": {
          "readFromDroplistText": "openCreateForm():[title=generalLedgerInfo:().values().find():[ledgerAccountName=().ledger].popupInfo.title;manager=getManagerFromCollection():[collection=account];docDefaultValues=[ledgerAccountName=generalLedgerInfo:().values().find():[ledgerAccountName=().ledger].ledgerAccountName]]",
          "readFromAllowedLedgers": "openCreateForm():[title=generalLedgerInfo:().values().find():[ledgerAccountCode=parent().1stChild().allowedLedgers.0.toString().0].popupInfo.title;manager=getManagerFromCollection():[collection=account];docDefaultValues=[ledgerAccountName=generalLedgerInfo:().values().find():[ledgerAccountCode=parent().1stChild().allowedLedgers.0.toString().0].ledgerAccountName]]",
          "readFromIncludeLegerAccounts": "openCreateForm():[title=generalLedgerInfo:().values().find():[ledgerAccountCode=_.includeLegerAccounts.startsWith.0].popupInfo.title;manager=getManagerFromCollection():[collection=account];docDefaultValues=[ledgerAccountName=generalLedgerInfo:().values().find():[ledgerAccountCode=_.includeLegerAccounts.startsWith.0].ledgerAccountName]]",
          "_": "if():[_.includeLegerAccounts;_.includeLegerAccounts.startsWith!='all']:[readFromIncludeLegerAccounts()].elif():[parent().1stChild().allowedLedgers]:[readFromAllowedLedgers()]:[readFromDroplistText()]"
        },
        "_": "if():[_.collection='account']:[callOpenHotCreateFormForAccount()]"
      },
      "handleIfListOfMap": "_.allowedLedgers._():[().isTrue=customCondition():[data=doc().clone();condition=_.condition];if():[().isTrue]:[().allowedLedger=_.allowedLedgers]];().inputText=if():[().allowedLedger]:[_.inputLabel+' ('+().allowedLedger.join():['-']+')']:[_.inputLabel];().text=().inputText"
    },
    "collapsed": [
      {
        "path": [
          "children",
          1
        ]
      },
      {
        "path": [
          "children",
          0,
          "children",
          0
        ]
      },
      {
        "path": []
      },
      {
        "path": [
          "handleRequiredLabel"
        ]
      },
      {
        "path": [
          "inputLabelHandler"
        ]
      },
      {
        "path": [
          "openHotCreateForm",
          "callOpenHotCreateFormForAccount"
        ]
      },
      {
        "path": [
          "openHotCreateForm"
        ]
      },
      {
        "path": [
          "handleHotCeatableEvents",
          "handleOpenHotCreateFormForAccount",
          "callOpenHotCreateFormForAccount"
        ]
      },
      {
        "path": [
          "handleHotCeatableEvents",
          "handleOpenHotCreateFormForAccount",
          "specificLedger"
        ]
      },
      {
        "path": [
          "handleHotCeatableEvents",
          "handleOpenHotCreateFormForAccount"
        ]
      },
      {
        "path": [
          "handleHotCeatableEvents",
          "callOpenHotCreateFormForAccount"
        ]
      },
      {
        "path": [
          "handleHotCeatableEvents"
        ]
      }
    ],
    "comments": [
      {
        "note": "false",
        "path": [
          "children",
          0,
          "children",
          0
        ]
      }
    ],
    "folderPath": [],
    "version": 0,
    "counter": 14,
    "secure": false
  }
}