{
  "view": "View:imageView?class=column;style:[height=100%;width=100%];doc=imageInfo;imageInfo:()=_.imageData",
  "children": [
    {
      "view": "View?class=flex;style:[width=100%;height=100%;gap=1rem]",
      "children": [
        {
          "view": "View?class=flex column;style:[overflowY=auto;width=if():[mobile()]:[100%]:[30%];maxHeight=100%;borderRadius=0.4rem]",
          "children": [
            {
              "view": "[View]:[data=galleryManagerInfo:().galleryManager.createFormInputs.inputs]?class=flex column;style:[width=100%;borderRadius=.4rem;padding=1rem;alignItems=center;gap=2rem]",
              "children": [
                {
                  "view": "customInput"
                }
              ]
            },
            {
              "view": "View?class=flex;style:[gap=1rem;padding=1rem;flexWrap=wrap]",
              "children": [
                {
                  "view": "[View]:[data=doc().tags]?class=flex?doc().tags.len()>0",
                  "children": [
                    {
                      "view": "View?class=flexbox;style:[box-shadow=0px 0px 2px 0px rgba(0,0,0,0.75) inset;width=fit-content;backgroundColor=#f3f3f3;borderRadius=.4rem;padding=.4rem;opacity=.8]",
                      "children": [
                        {
                          "view": "Text?text=_;style:[fontSize=1.2rem;padding=.3rem .5rem;borderRadius=0 .3rem .3rem 0]"
                        },
                        {
                          "view": "Icon?name=close;google.symbol;style:[cursor=pointer;fontSize=1.6rem;opacity=.8];click:[pullTag()];mouseenter:[style():[opacity=1]];mouseleave:[style():[opacity=.8]]"
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "view": "View?class=flexbox column;style:[width=70%;maxHeight=100%;borderRadius=0.5rem;overflow=hidden]",
          "children": [
            {
              "view": "View?class=flexbox;style:[overflow=hidden;width=100%;height=90%]",
              "children": [
                {
                  "view": "Image?src=doc().url;style:[maxWidth=100%;maxHeight=100%]?_.imageData.type.includes():[image]"
                },
                {
                  "view": "View?class=flexbox;style:[position=absolute]?!_.imageData.type.includes():[image]",
                  "children": [
                    {
                      "view": "Icon?name=description;google.symbol;style:[fontSize=15rem]"
                    },
                    {
                      "view": "Icon?name=downloading;google.symbol;download=_.imageData.url;style:[fontSize=4rem;position=absolute;bottom=78%;left=73%;cursor=pointer];click:[downloadFile()]"
                    }
                  ]
                }
              ]
            },
            {
              "view": "View?class=flex;style:[height=7%;width=100%;justifyContent=end;borderTop=1px solid #ddd;marginTop=1rem;gap=1rem]",
              "children": [
                {
                  "view": "View?class=flexbox;style:[width=9rem;height=3rem;borderRadius=0.4rem;marginTop=auto;cursor=pointer;opacity=.8;border=1px solid #fb3b1e];click:[confirmPopup()];hover.style.opacity=1?userData:().permission.gallery.inc():Remove",
                  "children": [
                    {
                      "view": "Text?text=Delete;style:[fontSize=1.4rem;color=#fff;color=#fb3b1e]"
                    }
                  ]
                },
                {
                  "view": "View?class=flexbox;style:[width=9rem;height=3rem;border=1px solid #ccc;borderRadius=.4rem;cursor=pointer;opacity=.8;marginTop=auto];click:[closeGeneralPopup()];hover.style.opacity=1",
                  "children": [
                    {
                      "view": "Text?text=Discard;style:[fontSize=1.4rem;color=#666]"
                    }
                  ]
                },
                {
                  "view": "View?class=flexbox;style:[width=9rem;height=3rem;backgroundColor=#33d17a;border-radius=0.4rem;marginTop=auto;cursor=pointer;opacity=1];click:[[_.action]()];hover.style.backgroundColor=#2ccb73?userData:().permission.gallery.inc():Edit",
                  "children": [
                    {
                      "view": "Text?text=Save;style:[fontSize=1.4rem;color=#fff]"
                    }
                  ]
                }
              ]
            },
            {
              "view": "View?class=flexbox;style:[position=absolute;top=9%;left=95%;cursor=pointer]?false",
              "children": [
                {
                  "view": "Icon?name=download;google.symbol;style:[fontSize=4rem]"
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "__props__": {
    "id": "r117C1Q1403351K3p6q5R2h0c6",
    "doc": "imageView",
    "creationDate": 1711031365206,
    "active": true,
    "createdByUserID": "41V7H078W8I8I780z1m9Y2E4Y2",
    "actions": {
      "pullTag": "doc().tags.pullItem():[_];3rdParent().update()",
      "confirmPopup": "confirmWindow:()=[title='Confirmation Deletion';text='Continue deleting image?';action='deleteImage()'];():confirmWindow.update();():confirmWindow.style():[visibility=visible;opacity=1]",
      "downloadFile": "window().open():[_.imageData.url]",
      "pushTag": "doc().tags.push():[txt()];3rdParent().2ndParent().next().update();clear();focus()?e().key=Enter",
      "closeGeneralPopup": "():generalPopup.style():[visibility=hidden;opacity=0]",
      "editImage": "Gallery:()._():[if():[_.id=__.imageData.id]:[Gallery:().pullItem():[_];Gallery:().replace():[__.imageData]]];loader.show;updateImage():[doc()]:[if():[_.success]:[loader.hide;note():[text=_.message];closeGeneralPopup();():GalleryManager.update()]:[loader.hide;note():[text=_.message]]]",
      "saveImage": "loader.show;uploadImage():[data=doc();branch=userData:().currentBranch]:[if():[_.success]:[note():[text='File uploaded successfully!'];searchDataImage:().push():[_.data];():GalleryManager.update();closeGeneralPopup();loader.hide]:[note():[text='Try again!';danger];loader.hide]]",
      "#deleteImage": "loader.show;eraseImg():[_.imageData.id]:[if():[_.success]:[note():[text='Image deleted']];closeConfirmWindow();closeGeneralPopup();loader.hide;():galleryContainer.update()]"
    },
    "collapsed": [
      {
        "path": [
          "children",
          "0",
          "children",
          1
        ]
      },
      {
        "path": [
          "children",
          "1"
        ]
      },
      {
        "path": [
          "children",
          0,
          "children",
          1,
          "children",
          0,
          "children",
          "1",
          "children",
          0
        ]
      },
      {
        "path": [
          "children",
          0,
          "children",
          1,
          "children",
          0,
          "children",
          "1",
          "children",
          1
        ]
      },
      {
        "path": [
          "children",
          0,
          "children",
          1,
          "children",
          "1",
          "children",
          0
        ]
      },
      {
        "path": [
          "children",
          0,
          "children",
          1,
          "children",
          1
        ]
      },
      {
        "path": [
          "children",
          0,
          "children",
          1,
          "children",
          2
        ]
      }
    ],
    "comments": [
      {
        "note": "inputs",
        "path": [
          "children",
          "0",
          "children",
          0
        ]
      },
      {
        "note": "image",
        "path": [
          "children",
          "0",
          "children",
          1
        ]
      },
      {
        "note": "save/delete",
        "path": [
          "children",
          1
        ]
      },
      {
        "note": "inputs and image",
        "path": [
          "children",
          0
        ]
      },
      {
        "note": "left side",
        "path": [
          "children",
          0,
          "children",
          0
        ]
      },
      {
        "note": "right popup side",
        "path": [
          "children",
          0,
          "children",
          1
        ]
      },
      {
        "note": "tag",
        "path": [
          "children",
          0,
          "children",
          0,
          "children",
          1,
          "children",
          "0"
        ]
      },
      {
        "note": "tag container",
        "path": [
          "children",
          0,
          "children",
          0,
          "children",
          1
        ]
      },
      {
        "note": "tag style",
        "path": [
          "children",
          0,
          "children",
          0,
          "children",
          1,
          "children",
          0,
          "children",
          "0"
        ]
      },
      {
        "note": "inputs",
        "path": [
          "children",
          0,
          "children",
          0,
          "children",
          0
        ]
      },
      {
        "note": "save btn",
        "path": [
          "children",
          0,
          "children",
          1,
          "children",
          1,
          "children",
          3
        ]
      },
      {
        "note": "discard btn",
        "path": [
          "children",
          0,
          "children",
          1,
          "children",
          1,
          "children",
          1
        ]
      },
      {
        "note": "delete btn",
        "path": [
          "children",
          0,
          "children",
          1,
          "children",
          1,
          "children",
          0
        ]
      },
      {
        "note": "btns",
        "path": [
          "children",
          0,
          "children",
          1,
          "children",
          1
        ]
      },
      {
        "note": "image",
        "path": [
          "children",
          0,
          "children",
          1,
          "children",
          0
        ]
      },
      {
        "note": "save btn",
        "path": [
          "children",
          0,
          "children",
          1,
          "children",
          1,
          "children",
          2
        ]
      },
      {
        "note": "Download",
        "path": [
          "children",
          0,
          "children",
          1,
          "children",
          2
        ]
      }
    ],
    "folderPath": [],
    "version": 0,
    "counter": 28,
    "secure": false
  }
}