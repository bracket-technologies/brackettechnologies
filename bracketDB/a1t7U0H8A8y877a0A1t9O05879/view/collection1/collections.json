{
    "view": "View?id=collections;class=flex column;style:[transition=.2s;backgroundColor=#f0f0f0;overflow=auto;padding=.5rem 0;width=0rem;#zIndex=2]",
    "children": [
        {
            "view": "View?class=flex pointer align-center;hover.style.backgroundColor=#e9e9e9;style:[minHeight=3rem;width=100%;position=relative];[mouseenter?lastChild().display()?!next().hidden()];[mouseleave?lastChild().hide()];[click?toggleCollectionsFolder()]",
            "children": [
                {
                    "view": "Icon?name=bi-chevron-right;style:[fontSize=1.3rem;width=2.25rem;transition=.2s;transform='rotate(0deg)']"
                },
                {
                    "view": "Text?class=dots;text=Database;style:[fontSize=1.3rem;flex=1]"
                },
                {
                    "view": "Icon?tooltip.text=create new collection;name=bi-plus;style:[backgroundColor=inherit;display=none;color=#000;fontSize=1.9rem;position=absolute;right=.5rem;height=3rem;width=2rem;borderRadius=.25rem];hover.style.color=blue;[click?createNewCollection()]"
                }
            ]
        },
        {
            "view": "View?class=flex column;style:[display=[none?!collections:()?flex];width='calc(100% - 1.2rem)';marginLeft=1.2rem;borderLeft=1px solid #ddd]",
            "children": [
                {
                    "view": "[View]:[data=collections:().sort():[ascending];mount]?style:[width=100%]",
                    "children": [
                        {
                            "view": "View?id=[data()||gen()];class=flex pointer align-center;hover.style.backgroundColor=#e9e9e9;style:[minHeight=3rem;width=100%;position=relative];[click?openCollection()];[mouseenter?displayOptionsIcons()];[mouseleave?hideOptionsIcons()]",
                            "children": [
                                {
                                    "view": "Icon?name=bi-chevron-right;style:[fontSize=1.3rem;width=2.25rem;transition=.2s;transform=['rotate(90deg)'?data:().editor.[data()]?'rotate(0deg)']]"
                                },
                                {
                                    "view": "Text?class=dots;text=data();tooltip.text=data();style:[fontSize=1.3rem;flex=1];[keydown?[editCollectionName()]():[path=collectionEditorHandler]?e().key=Enter];[blur;[keydown??e().key=Tab||e().key=Escape]?style().cursor=pointer;readonly();txt()=data()?text?2ndParent().rem()]"
                                },
                                {
                                    "view": "Icon?tooltip.text=add new directory;name=bi-folder;style:[transition=.2s;backgroundColor=inherit;display=none;color=#000;fontSize=1.5rem;position=absolute;right=6.7rem;height=2.5rem;width=2rem;borderRadius=.5rem];hover.style:[color=blue;backgroundColor=#fff];click:[createDirectory()]"
                                },
                                {
                                    "view": "Icon?tooltip.text=add new doc;name=bi-plus;style:[transition=.2s;backgroundColor=inherit;display=none;color=#000;fontSize=1.9rem;position=absolute;right=4.5rem;height=2.5rem;width=2rem;borderRadius=.5rem];hover.style:[color=blue;backgroundColor=#fff];click:[clickCreateNewDoc()]"
                                },
                                {
                                    "view": "View?class=pointer flexbox;tooltip.text=import;style:[transition=.2s;display=none;backgroundColor=inherit;position=absolute;right=2.3rem;height=2.5rem;width=2rem;borderRadius=.5rem;overflow=hidden];hover.style:[color=blue;backgroundColor=#fff];",
                                    "children": [
                                        {
                                            "view": "Icon?name=bi-download;style:[color=#000;fontSize=1.5rem];hover.color=blue"
                                        },
                                        {
                                            "view": "Input?input.type=file;style:[opacity=0;height=10rem;width=10rem;position=absolute;zIndex=1];[change?importDoc()]"
                                        }
                                    ]
                                },
                                {
                                    "view": "Icon?name=bi-three-dots-vertical;style:[transition=.2s;backgroundColor=inherit;display=none;color=#000;fontSize=1.9rem;position=absolute;right=0.1rem;height=2.5rem;width=2rem;borderRadius=.5rem];hover.style:[color=blue;backgroundColor=#fff];droplist:[items=:[icon='bi-input-cursor-text']:[icon='bi-globe-americas']:[icon='bi-trash'];item.style:[fontSize=2rem;height=4rem];placement=right;align=center];[click:droplist?collectionEditorHandler()]"
                                }
                            ]
                        },
                        {
                            "view": "View?id=[data()+'-list'];class=flex column align-center;style:[marginLeft=1.2rem;borderLeft=1px solid #ddd;display=[flex?data:().editor.[data()]?none]]",
                            "children": [
                                {
                                    "view": "[View]:[data=data:().editor.[parent().data()].keys().sort():[ascending];mount]?class=flex pointer align-center;style:[minHeight=3rem;width=100%;position=relative];loaded:[loadedHandler()];click:[displayOpenedDoc();openDoc()?clicked()!=lastChild()];mouseenter:[showOptionIcon()];mouseleave:[hideOptionIcon()]?data()||[!openDoc:();openCollection:()=parent().data()]",
                                    "children": [
                                        {
                                            "view": "Icon?name=bi-file-earmark;style:[fontSize=1.3rem;minWidth=2.25rem];click:[2ndNext().focus()]"
                                        },
                                        {
                                            "view": "Text?class=dots;text=data();tooltip.text=data();style.fontSize=1.3rem"
                                        },
                                        {
                                            "view": "Input?class=dots;input.value=data();openDoc=data();preventDefault;input.style.padding=0;style:[fontSize=1.3rem;border=0;height=3rem;padding=0;display=none;width='calc(100% - 2.25rem)'];mouseenter:[next().style().display=flex];mouseleave:[next().style().display=none];blur:[blurEdit()];keyup:[escapeEdit();issueInDocName();editDocName();createDoc()]"
                                        },
                                        {
                                            "view": "Icon?openDoc=data();openCollection=2ndParent().data();name='bi-three-dots-vertical';style:[fontSize=1.8rem;width=2rem;height=3rem;position=absolute;right=0;display=none;backgroundColor=#e9e9e9;borderRadius=.25rem];hover.style.color=blue;click:[toggleActionPopup()]"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ],
    "__props__": {
        "id": "41A7R1L023z3V0s7Y8B6f4b8q4",
        "doc": "collections",
        "counter": 10,
        "creationDate": 1710330786484,
        "collection": "view",
        "chunk": "chunk1",
        "lastModified": 1723312425545,
        "dev": false,
        "actions": {
            "clickCreateNewDoc": "parent().next().display();1stSibling().style().rotate():90;if():[!duplicateDoc:()]:[openDoc:().del()];openCollection:()=data();parent().next().insert():[view=parent().next();viewPath=:children:0;preventDefault;index=0]:[_.view.():[2ndChild().style().display=none;3rdChild().():[style().display=flex;txt()='';focus()]];hideActionPopup()]",
            "editDocName": {
                "_": "editDoc()?openDoc:();e().key=Enter||e().key=Tab;txt();!data:().editor.[2ndParent().data()].[txt()];!txt().inc():' '",
                "editDoc": "newDocName:()=txt();data:().editor.[2ndParent().data()].[txt()]=data:().editor.[2ndParent().data()].[.openDoc].clone();loader.show;[saveNewDocName();eraseEditedDoc()]()::[editHandler()]",
                "saveNewDocName": "[saveData():[publicID=project:().publicID;collection=2ndParent().data();doc=txt();data=data:().editor.[2ndParent().data()].[txt()]]]():[collection=actions;doc=db]",
                "editHandler": "loader.hide;note():[text=if():[!duplicateDoc:()]:'Document name changed successfully!':'Document duplicated successfully!'];if():[!duplicateDoc:()]:[data:().editor.[2ndParent().data()].[().openDoc].del()];closeTab();():[2ndParent().data()+'-list'].refresh()::[_.view.display();duplicateDoc:().del();openNewTab()]",
                "closeTab": "():dataViewerBar.children().find():[openDoc=().openDoc;openCollection=2ndParent().data()].lastChild().click()",
                "openNewTab": "():[openCollection:()+'-list'].children().find():[data()=newDocName:()].click()",
                "eraseEditedDoc": "[eraseData():[publicID=project:().publicID;collection=2ndParent().data();doc=().openDoc]]():[collection=actions;doc=db]?!duplicateDoc:()"
            },
            "createDoc": {
                "_": "openCollection:()=2ndParent().data();createDoc()?!openDoc:()||duplicateData:();e().key=Enter||e().key=Tab;!data:().editor.[2ndParent().data()].[txt()];!txt().inc():' '",
                "createDoc": "[openData:()=duplicateData:().clone()?duplicateData:()?openData:()=[view='View?id='+txt()]?openCollection:()=view?openData:()=[]];loader.show;[start();saveData():[publicID=project:().publicID;collection=openCollection:();[doc=().txt()?().txt()];data=openData:()]:[end():[_]]]():[collection=actions;doc=db]:[postCreateDocHandler()]",
                "postCreateDocHandler": "loader.hide;data:().editor.[openCollection:()].[_.data.__props__.doc]=_.data;duplicateData:().del();note():[text='Document created successfully!'];():[2ndParent().data()+'-list'].refresh()::[_.view.display()]"
            },
            "importDoc": {
                "existenceNote": "note():[text=Document name exists!;danger]",
                "saveDoc": "loader.show;[saveData():[publicID=project:().publicID;collection=().collection;data=_.data.data;doc=().openDoc]]():[collection=actions;doc=db]:[note():[text=Document imported successfully!];data:().editor.[().collection].[().openDoc]=_.data.data.clone();():[().collection+'-list'].refresh();loader.hide;el().value='']",
                "_": "collection=data();read():[file=file();type=json]:[().openDoc=_.data.name.split():'.json'.0;if():[!data:().editor.[().collection].[().openDoc]]:[saveDoc()]:[existenceNote()]]"
            },
            "toggleActionPopup": "if():[():actionPopup.style().opacity='1';actionPopupCaller:()=.id]:[hideActionPopup()]:[actionPopupCaller:()=.id;():actionPopup.():[caller=..id;position():[positioner=...id;placement=right];openDoc=..data();openCollection=..2ndParent().data();openActionPopup();3rdChild().refresh()]]",
            "issueInDocName": {
                "_": "problemEditingCreateDoc():[view=2ndParent().data();collection=2ndParent().data()]?e().key=Enter||e().key=Tab;data:().editor.[2ndParent().data()].keys().inc():txt()||!txt()||txt().inc():' '",
                "problemEditingCreateDoc": "note():[text=if():[!txt()]:[File name could not be empty!].elif():[data:().editor.[_.collection].keys().inc():txt()]:'File name should be unique!'.elif():[txt().inc():' ']:'File name cannot contain spaces!';danger]"
            },
            "hideOptionsIcons": "children().pullIndex():0:2.():hide()",
            "hideOptionIcon": "lastChild().hide();backgroundColor()=inherit",
            "blurEdit": "cancelEditCreateDoc():[view=2ndParent().data();collection=2ndParent().data();]?parent()!=clicked()",
            "showOptionIcon": "backgroundColor()=#e9e9e9;lastChild().display()?3rdChild().hidden()",
            "displayOptionsIcons": "lastChild().display();[children().pullIndex():0:2.():display()?1stChild().rotate()=90]",
            "loadedHandler": "if():[new-file-created:();mapIndex=data:().editor.[parent().data()].keys().len()-1]:[new-file-created:().del();parent().style().display=flex;parent().prev().1stChild().style().transform='rotate(90deg)';click()]",
            "escapeEdit": "cancelEditCreateDoc():[view=2ndParent().data();collection=2ndParent().data()]?e().key=Escape",
            "openDoc": {
                "_": "initOpens();displayViews();hideOtherData();[loader.show;insertTab();insertData();insertActions()]()::[loader.hide]?clicked()!=lastChild()!=2ndLastChild();!openDocs:().inc():[parent().data()+'/'+data()]",
                "initOpens": "openDoc:()=data();openCollection:()=parent().data();openData:()=data:().editor.[openCollection:()].[openDoc:()].clone();openDocs:().replaceItem():[openCollection:()+'/'+openDoc:()]",
                "displayViews": "():dataViewerBar.style().display=flex;():mainActionsContainer.style().height=actionsHeight:()+rem;():dataViewer.style().height='calc(100% - '+actionsHeight:()+'rem)';():mainActionsContainer.style().display=flex",
                "hideOtherData": "class():dataViewer.():[style().display=none];():dataViewerBar.children().():[style().backgroundColor=inherit;hover.disable=false];class():actions.():[style().display=none]",
                "insertTab": "():dataViewerBar.insert():[view=():dataViewerBar;viewPath=:children:0;index=():dataViewerBar.children().len();preventDefault;mount=true;data=openCollection:()+'/'+openDoc:()]:[_.view.():[style().backgroundColor=#fff;hover.disable=true;openDoc=openDoc:();openCollection=openCollection:()]]",
                "insertData": "():dataViewer.insert():[view=():dataViewer;viewPath=:children:0;index=():dataViewerBar.children().len();preventDefault;mount=true;data=openData:();index=():dataViewer.children().len()]:[_.view.():[openDoc=openDoc:();openCollection=openCollection:();openData=openData:()]]",
                "insertActions": "():actions.insert():[view=():actions;viewPath=:children:0;preventDefault;mount=true;data=[openData:().__props__.actions||[]]]:[_.view.():[openDoc=openDoc:();openCollection=openCollection:()]]"
            },
            "displayOpenedDoc": {
                "_": "[initOpens();displayViews();hideOtherData()]():[path=openDoc];displayTab();displayData();displayActions()?clicked()!=lastChild();openDocs:().inc():[parent().data()+'/'+data()]",
                "displayActions": "class():actions.find():[openDoc=openDoc:();openCollection=openCollection:()].style().display=flex",
                "displayData": "class():dataViewer.find():[openCollection=openCollection:();openDoc=openDoc:()].():[style().display=flex;openData:()=().openData]",
                "displayTab": "():dataViewerBar.children().find():[openDoc=openDoc:();openCollection=openCollection:()].():[style().backgroundColor=#fff;hover.disable=true]"
            },
            "collectionEditorHandler": {
                "_": "removeCollection()?clicked().icon().txt()='bi-trash'?[setCollectionNameEditable()?clicked().icon().txt()='bi-input-cursor-text']",
                "removeCollection": "loader.show;[eraseData():[publicID=project:().publicID;collection=data()]]():[collection=actions;doc=db]:[updateDatabase()]",
                "editCollectionName": {
                    "_": "e().preventDefault();().[editName()?data().type()=text;data()?createCollection()?txt()?note():[text='Enter a collection name!';type=danger]?!data()]",
                    "editName": "loader.show;[saveData():[publicID=project:().publicID;collection=data();rename=txt()]]():[collection=actions;doc=db]:[loader.hide;closeRelatedDocs();data:().editor.[txt()]=data:().editor.[data()];data:().editor.[data()].del();data()=txt();3rdParent().refresh()]?txt();!data:().editor.[txt()]?handleCollectionNameNote()",
                    "createCollection": "loader.show;[saveData():[publicID=project:().publicID;collection=txt()]]():[collection=actions;doc=db]:[loader.hide;data()=txt();collections:()+=txt();nthParent():3.refresh()]",
                    "closeRelatedDocs": "():dataViewerBar.children().find():[openCollection=data()].lastChild().click()"
                },
                "setCollectionNameEditable": "2ndSibling().():[editable();focus();style().cursor=text];2ndSibling().text=2ndSibling().txt()",
                "handleCollectionNameNote": "note():[text=['Enter a collection name!'?!txt()?'Collection name already exists!'?data:().editor.[txt()]];type=danger]",
                "updateDatabase": "():dataViewerBar.children().filter():[openCollection=..data()].():[lastChild().click()];data:().editor.[data()].del();collections:().pullItem():[data()];note():[text='Collection removed successfully!'];loader.hide;():collections.2ndChild().refresh()::[_.view.display()]"
            },
            "toggleCollectionsFolder": {
                "_": "[openFolder();lastChild().hide()?!next()||next().hidden()?closeFolder()]?clicked()!=lastChild()",
                "openFolder": "getCollections()::[():collections.2ndChild().refresh()::[[setSidebarWidth()]():[path=openDataManager;doc=consoleSidebar];():collections.():[2ndChild().display();grandChild().rotate()=90;1stChild().lastChild().display()]]]",
                "closeFolder": "next().hide();1stChild().rotate()=0;lastChild().hide()",
                "getCollections": "loader.show;[getData():[publicID=project:().publicID]:[loader.hide;collections:()=_.data]]():[collection=actions;doc=db]"
            },
            "createNewCollection": {
                "_": "parent().next().insert():[view=parent().next();viewPath=:children:0;data='';index=0]:[_.view.1stChild().2ndChild().():[txt()='';editable();focus();cursor()=text]]"
            },
            "openCollection": {
                "_": "searchDocs()?clicked()!=nthLastChild():4;clicked()!=nthLastChild():3;clicked()!=nthLastChild():2;clicked()!=nthLastChild():1;clicked()!=input()",
                "searchDocs": "hideOptionsIcons();1stChild().loader():[show;style:[pointerEvents=none]];next().children().():rem();searchDocsRequest()::[displayOptionsIcons()]?1stChild().style().transform='rotate(0deg)'?closeCollection()",
                "searchDocsRequest": "[getData():[publicID=project:().publicID;collection=..data()]:[data:().editor.[data()]=_.data;1stChild().loader():hide;1stChild().rotate()=90;next().refresh()::[next().display()]]]():[collection=actions;doc=db]",
                "closeCollection": "data:().editor.[data()].del();1stChild().rotate()=0;next().children().():rem();hideOptionsIcons();lastChild().display()"
            },
            "cancelEditCreateDoc": "txt()=openDoc:();style().display=none;prev().style().display=flex;[[closeFolder():[id=_.view]?!data:().editor.[_.collection]||data:().editor.[_.collection].keys().len()=0];parent().rem()?!openDoc:()||!data:().editor.[_.collection].[openDoc:()]]"
        },
        "comments": [
            {
                "note": "docs",
                "path": [
                    "children",
                    1,
                    "children",
                    0,
                    "children",
                    1
                ]
            },
            {
                "note": "collection",
                "path": [
                    "children",
                    1,
                    "children",
                    0,
                    "children",
                    0
                ]
            },
            {
                "note": "database dir",
                "path": [
                    "children",
                    0
                ]
            },
            {
                "note": "colls & docs",
                "path": [
                    "children",
                    1
                ]
            },
            {
                "note": "options btn",
                "path": [
                    "children",
                    1,
                    "children",
                    0,
                    "children",
                    0,
                    "children",
                    5
                ]
            },
            {
                "note": "doc name",
                "path": [
                    "children",
                    1,
                    "children",
                    0,
                    "children",
                    0,
                    "children",
                    1
                ]
            },
            {
                "note": "import doc",
                "path": [
                    "children",
                    1,
                    "children",
                    0,
                    "children",
                    0,
                    "children",
                    5
                ]
            },
            {
                "note": "chevron",
                "path": [
                    "children",
                    1,
                    "children",
                    0,
                    "children",
                    0,
                    "children",
                    0
                ]
            },
            {
                "note": "new directory",
                "path": [
                    "children",
                    1,
                    "children",
                    0,
                    "children",
                    0,
                    "children",
                    2
                ]
            },
            {
                "note": "options btn",
                "path": [
                    "children",
                    1,
                    "children",
                    0,
                    "children",
                    0,
                    "children",
                    5
                ]
            },
            {
                "note": "new doc",
                "path": [
                    "children",
                    1,
                    "children",
                    0,
                    "children",
                    0,
                    "children",
                    3
                ]
            },
            {
                "note": "import",
                "path": [
                    "children",
                    1,
                    "children",
                    0,
                    "children",
                    0,
                    "children",
                    4
                ]
            }
        ],
        "collapsed": [
            {
                "path": [
                    "children",
                    0,
                    "children",
                    0,
                    "children",
                    4,
                    "children"
                ]
            },
            {
                "path": [
                    "children",
                    1,
                    "children",
                    1
                ]
            },
            {
                "path": [
                    "children",
                    2,
                    "children",
                    0
                ]
            },
            {
                "path": [
                    "children",
                    1,
                    "children",
                    0,
                    "children",
                    0,
                    "children",
                    5,
                    "children"
                ]
            },
            {
                "path": [
                    "children",
                    1,
                    "children",
                    0,
                    "children",
                    0,
                    "children",
                    4,
                    "children"
                ]
            },
            {
                "path": [
                    "importDoc"
                ]
            },
            {
                "path": [
                    "toggleCollectionsFolder"
                ]
            },
            {
                "path": [
                    "openDoc"
                ]
            },
            {
                "path": [
                    "openCollection"
                ]
            },
            {
                "path": [
                    "issueInDocName"
                ]
            },
            {
                "path": [
                    "children",
                    1,
                    "children",
                    0,
                    "children",
                    1
                ]
            },
            {
                "path": [
                    "editDocName"
                ]
            },
            {
                "path": [
                    "displayOpenedDoc"
                ]
            },
            {
                "path": [
                    "children",
                    0
                ]
            },
            {
                "path": [
                    "children",
                    1
                ]
            },
            {
                "path": [
                    "createNewCollection"
                ]
            },
            {
                "path": [
                    "createDoc"
                ]
            },
            {
                "path": [
                    "collectionEditorHandler",
                    "editCollectionName"
                ]
            },
            {
                "path": [
                    "collectionEditorHandler"
                ]
            }
        ],
        "arrange": [],
        "secured": false,
        "size": 16810
    }
}