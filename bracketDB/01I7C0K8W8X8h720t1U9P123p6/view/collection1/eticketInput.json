{
    "view": "View:eticketInput?class=column;style:[width=100%;height=100%]",
    "children": [
        {
            "view": "customInputLabel"
        },
        {
            "view": "View?class=flex;style:[width=100%;gap=.2rem]",
            "children": [
                {
                    "view": "View?class=flex;style:[inputStyle()];loaded:[().items=:[number=1;name=taha]:[number=2;name=mhmd]:[number=3;name=ali]]",
                    "children": [
                        {
                            "view": "View?class=flexbox;style:[width=6rem;height=100%;backgroundColor=#f3f3f3]",
                            "children": [
                                {
                                    "view": "Input?preventDefault;().startingScroll=0;placeholder='xxx';style:[fontSize=1.2rem;width=100%;height=100%];codePartEventsHandler()"
                                },
                                {
                                    "view": "Icon?name=expand_more;google.symbol;style:[fontSize=2rem;color=#666;cursor=pointer];click:[prev().click();prev().focus()]?!generalPopup:().read"
                                }
                            ]
                        },
                        {
                            "view": "View?class=flex;style:[fontSize=1.2rem;width='calc(100% - 6rem)';position=relative];[mouseenter?2ndChild().style():[opacity=1]?!createFormStack:()||createFormStack:().[-1]=searchbox];[mouseleave?2ndChild().style():[opacity=0]?!createFormStack:()||createFormStack:().[-1]=searchbox]",
                            "children": [
                                {
                                    "view": "Input?preventDefault;placeholder='xxxx-xxx-xxx';eticketEventsHandler();style:[width=100%;textOverflow=ellipsis;height=100%;paddingRight=0];if():[_.counterInputBlurAction]:[blur:[[_.counterInputBlurAction]()]]"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ],
    "__props__": {
        "id": "D1I7L1I1Q0A3I1a3S6W5J220X4",
        "doc": "eticketInput",
        "creationDate": 1711031365204,
        "active": true,
        "createdByUserID": "41V7H078W8I8I780z1m9Y2E4Y2",
        "actions": {
            "fillLeftZeros": "().taha=_.text+'t';while():[().taha.len()<[_.digits+1]]:[().taha='0'+().taha];return():[().taha.replaceAll():'t':'']",
            "readFomDataWithoutZero": "().splitedEticket=:[data().[_.inputPath].slice():[0]:[3]]:[data().[_.inputPath].slice():[3]];().splitedEticket.1=().splitedEticket.1.num();if():[().splitedEticket.1=0]:[().splitedEticket.1=''];txt()=().splitedEticket.join():'-'",
            "filterdroplist": {
                "filterByName": "2ndParent().items._():[if():[_.name.toLowerCase().includes():[txt().toLowerCase()]]:[governmentAccountsItems:().push():[_]]]",
                "filterByNumber": "2ndParent().items._():[if():[_.number.toString().slice():0:[().txt().len()]=().txt()]:[customDroplistItems:().push():[_]]]",
                "handleFilterResult": "if():[customDroplistItems:().len()=0]:[note():[text='Not matching number!';type=warning];().txt()=().txt().slice()::-1;filterGovernmentAccounts()]",
                "_": "if():[txt()!='']:[customDroplistItems:()=:;if():[_.searchByName]:[filterByName()]:[filterByNumber()];handleFilterResult()]:[customDroplistItems:()=2ndParent().items];governmentAccountsItems:()=customDroplistItems:()"
            },
            "handelEticketLength": {
                "handleEticketFormat": "().splitedEticket=:[data().[_.inputPath].slice():[0]:[3]]:[data().[_.inputPath].slice():[3]];if():[().splitedEticket.0.len()<=3]:[().splitedEticket.0=setDefaultLeftZeros():[text=().splitedEticket.0;digits=3]];if():[().splitedEticket.1.len()<=10]:[().splitedEticket.1=setDefaultLeftZeros():[text=().splitedEticket.1;digits=10]];data().[_.inputPath]=().splitedEticket.join():[''];txt()=().splitedEticket.join():['-']",
                "setDefaultLeftZeros": "().taha=_.text+'t';while():[().taha.len()<[_.digits+1]]:[().taha='0'+().taha];return():[().taha.replaceItem():'t':'']",
                "_": "if():[data().[_.inputPath]]:[handleEticketFormat()]"
            },
            "codePartEventsHandler": {
                "openDroplist": "if():[2ndParent().id!=droplistItems:().identifier]:[():customDroplist.style():[opacity=0;height=0px]];droplistItems:()=[viewName=governmentDroplistItems;identifier=2ndParent().id;width=2ndParent().el().clientWidth+'px';eticket=true];().droplistHeight=if():[governmentAccountsItems:().len()>10]:[30]:[[governmentAccountsItems:().len()]*2.8];():customDroplist.update()::[():customDroplist.position():[positioner=2ndParent().id;placement=bottom];():customDroplist.style():[opacity=1;height=[().droplistHeight+'rem']()]]",
                "inputValueHandler": "if():[_.inputValue;!data().[_.inputPath]]:[data().[_.inputPath]=_.inputValue]:[txt()=data().[_.inputPath].slice():[0]:[3]]",
                "saveValueInData": "if():[parent().next().1stChild().txt()!='']:[data().[_.inputPath]=fillLeftZeros():[text=txt();digits=3]+parent().next().1stChild().txt().toString().replaceAll():['-']:['']]:[data().[_.inputPath]=fillLeftZeros():[text=txt();digits=3]+'0000000000']",
                "checkToCloseDroplist": "if():[!():customDroplist.contains():[clicked()]]:[():customDroplist.style():[opacity=0;height=0]]",
                "_": "keydown:[keyDownActions()];focus:[if():[txt()!='']:[txt()=txt().num()]];[focus;click;change?if():[txt().num()=0]:[txt()='']:[txt()=txt().num()];filterdroplist();openDroplist()];[change?().startingScroll=0;saveValueInData();if():[_.entryAction]:[[_.entryAction]()]?e().keyCode!=40;e().keyCode!=38;e().key!=Enter];blur:[checkToCloseDroplist();if():[txt()!='']:[txt()=fillLeftZeros():[text=txt();digits=3]];;if():[_.blurAction]:[[_.blurAction]()]];loaded:[inputValueHandler()]"
            },
            "removeChar": {
                "notChar": "[e().keyCode>=48;e().keyCode<=57]||[e().keyCode>=96;e().keyCode<=105]||[e().keyCode=110||e().keyCode=8]||[e().keyCode>=37;e().keyCode<=40]||[e().keyCode>=16;e().keyCode<=20]||[e().keyCode>=112;e().keyCode<=123]||[e().keyCode=9]||[e().keyCode=189]||[e().keyCode=109]",
                "handleDash": "if():[data().[_.inputPath].len()>=3;e().keyCode!=8]:[().splitedEticket=:[data().[_.inputPath].slice():[0]:[3]]:[data().[_.inputPath].slice():[3]:[13]];txt()=().splitedEticket.join():'-'].elif():[data().[_.inputPath].len()=3;e().keyCode=8]:[txt()=data().[_.inputPath]]",
                "_": "if():[notChar()]:[().eticket=txt();if():[e().keyCode=9]:[blur()];data().[_.inputPath]=txt().replaceItem():'-':'';#handleDash()]:[preventDefault();#txt()=().eticket]"
            },
            "InitializeValueOrReadFromData": "if():[data().[_.inputPath]]:[txt()=data().[_.inputPath]]",
            "eticketEventsHandler": {
                "handleData": "if():[txt()!='']:[#txt()=fillLeftZeros():[text=txt();digits=10]];if():[data().[_.inputPath]]:[data().[_.inputPath]=data().[_.inputPath].slice():[0]:[3]+txt().replaceAll():['-']:['']]",
                "_": "focus:[#if():[txt()!='']:[txt()=txt().num()];().x=txt()];blur:[handleData()];loaded:[readValueFromData()];entry:[handleDashes()]",
                "handleDashes": "if():[txt().len()>().x]:[if():[txt().len()=4||txt().len()=8]:[txt()=txt()+'-'].elif():[txt().len()=5||txt().len()=9;txt().[-1]!='-']:[txt()=txt().slice():[0]:[-1]+'-'+txt().slice():[-1]]]:[if():[txt().len()=5||txt().len()=9]:[txt()=txt().slice():[0]:[-1]]];if():[txt().len()>12]:[txt()=txt().slice():[0]:[-1]];().x=txt().len()",
                "readValueFromData": "if():[data().[_.inputPath]]:[txt()=data().[_.inputPath].slice():[3]:[7]+if():[data().[_.inputPath].len()>7]:['-'+data().[_.inputPath].slice():[7]:[10]]:['']+if():[data().[_.inputPath].len()>10]:['-'+data().[_.inputPath].slice():[10]]:['']]"
            }
        },
        "collapsed": [
            {
                "path": [
                    "children",
                    0
                ]
            },
            {
                "path": [
                    "removeChar"
                ]
            },
            {
                "path": [
                    "generalLedgerEventsHandler(1)"
                ]
            },
            {
                "path": [
                    "codePartEventsHandler",
                    "saveValueInData"
                ]
            },
            {
                "path": [
                    "generalLedgerEventsHandler",
                    "#inputValueHandler"
                ]
            },
            {
                "path": [
                    "generalLedgerEventsHandler",
                    "saveLedgerInData"
                ]
            },
            {
                "path": [
                    "handelEticketLength"
                ]
            },
            {
                "path": [
                    "filterdroplist"
                ]
            },
            {
                "path": [
                    "eticketEventsHandler"
                ]
            }
        ],
        "comments": [],
        "dirPath": [],
        "version": 0,
        "counter": 24,
        "secure": false,
        "chunk": "chunk1",
        "collection": "view"
    }
}