{
    "view": "View:topbar?style:[height=4.5rem]",
    "children": [
        {
            "view": "View?class=flex;style:[backgroundColor=#f5f5f5;height=100%;alignItems=center;justifyContent=space-between]",
            "children": [
                {
                    "view": "View?class=flex;style:[height=100%;cursor=pointer]",
                    "children": [
                        {
                            "view": "Image?src='https://storage.googleapis.com/bracket-technologies.appspot.com/storage-tt/XPj7rpzqqcYaio0jdejE?GoogleAccessId=firebase-adminsdk-kcrle%40bracket-technologies.iam.gserviceaccount.com&Expires=32509468800&Signature=BaeQg0yFhhoHkbcBMfX4tFfKR%2BaanI7YY6qCnRPW2oS6AqLvfeNl3OqfBQhKCk%2Fg2bn0x4OR%2FQKwYEI7SIFCqFG09WYwnp4v4EHwOsMKM7KB6ocxSEqIn3W0%2BAi6vqseocZky5Ms15WfSyc4GtD%2BrbsFZkEO%2F9zB9I80nwUSeVF1BcUp0juRGKdyge6B31t66J9iKiy2mCAnoXN4I61OVojFghacVVSq8bu1WVrggOjp1Z0H%2BifUxpCZ68rXI%2BcqsglgVT6RMqamDGa32XEKB9jOh3IN09XwwE8if5LBwlGEiocVvJ4tKGLWFfPQdhFk37fogg8GM9ivvjMSFPYGIg%3D%3D';"
                        }
                    ]
                },
                {
                    "view": "View?class=flex;style:[gap=2rem;padding=1rem]",
                    "children": [
                        {
                            "view": "View?class=flex;style:[alignItems=center;backgroundColor=#fff;borderRadius=2rem];mouseenter:[2ndChild().style():[width=50rem;padding=.5rem];style():[borderRadius=2rem]];mouseleave:[activateSearchInput()]?false",
                            "children": [
                                {
                                    "view": "Icon?name=bi-search;style:[color=#453f3f;fontSize=1.5rem;cursor=pointer;#backgroundColor=#fff;borderRadius=50%;height=3.3rem;width=3.3rem];click:[next().focus()]"
                                },
                                {
                                    "view": "Input?placeholder=Search...;style:[width=0rem;borderRadius=2rem;transition=.3s;height=3rem;padding=0];blur:[blurInput()]"
                                }
                            ]
                        },
                        {
                            "view": "View?class=flexbox;click:[clearCollections()];#click:[getNotification()]",
                            "children": [
                                {
                                    "view": "Icon?name=search;google.symbol;style:[width=2.5rem;color=#453f3f;fontSize=2.2rem;cursor=pointer;];hover.style:[color=#fb3b1e]"
                                }
                            ]
                        },
                        {
                            "view": "View:notificationIcon?class=flexbox;style:[position=relative];#click:[removeTransactions()];#click:[openNotificationBar()]",
                            "children": [
                                {
                                    "view": "Icon?name=notifications;google.symbol;style:[width=2.5rem;color=#453f3f;fontSize=2rem;cursor=pointer;transition=.2s ease-in-out];mouseenter:[style().color=#fb3b1e;ringring();transition=.2s ease-in-out];mouseleave:[style().color=#000;().timer._():[clearTimer():[_]];style().transform=rotate(0)]"
                                },
                                {
                                    "view": "View?class=flexbox;style:[position=absolute;minWidth=1.1rem;height=1.1rem;borderRadius=1rem;backgroundColor=red;left=13px;top=-1px;padding=.2rem;cursor=pointer]?dueNotifications:().len()>0",
                                    "children": [
                                        {
                                            "view": "Text?text=dueNotifications:().len();style:[fontSize=1rem;color=white;cursor=pointer]"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "view": "View?style:[backgroundColor=#b2beb5;width=1px]"
                        },
                        {
                            "view": "View?class=flex;style:[gap=.7rem;cursor=pointer;alignItems=center]?false",
                            "children": [
                                {
                                    "view": "Icon?name=payments;google.symbol;style:[fontSize=1.7rem;cursor=pointer;color=#453f3f]?false"
                                },
                                {
                                    "view": "Text?text=319,650.40$;style:[fontSize=1.3rem;color=#453f3f]?false"
                                },
                                {
                                    "view": "Icon?name=expand_more;google.symbol.outlined;style:[fontSize=2.2rem;color=#453f3f]?false"
                                },
                                {
                                    "view": "Text?text=USD;style:[fontSize=1.3rem;color=#453f3f]"
                                }
                            ]
                        },
                        {
                            "view": "View?style:[backgroundColor=#b2beb5;width=1px]?false"
                        },
                        {
                            "view": "View?class=flex;style:[alignItems=center;cursor=pointer;gap=.5rem];droplist:[align=center;preventDefault;items='userData:().branch.():name';style:[width=fit-content]];[click:droplist?switchBranch()]",
                            "children": [
                                {
                                    "view": "Text:branchDroplist?text=userData:().branch.find():[id=userData:().currentBranch].name||'Branch Name';style:[width=11rem;fontSize=1.3rem;color=#453f3f;overflow=hidden;text-overflow=ellipsis;white-space=nowrap]"
                                },
                                {
                                    "view": "Icon?name=expand_more;google.symbol;style:[fontSize=2.2rem;color=#453f3f]"
                                }
                            ]
                        },
                        {
                            "view": "View?style:[backgroundColor=#b2beb5;width=1px]"
                        },
                        {
                            "view": "View?class=flex;style:[gap=1rem;cursor=pointer;alignItems=center;marginRight=1rem];profileDroplist()",
                            "children": [
                                {
                                    "view": "Icon?name=person;google.symbol;style:[fontSize=2.2rem;color=#453f3f]"
                                },
                                {
                                    "view": "Text:profileName?text=if():[userData:()]:[userData:().firstName.capitalize()+' '+userData:().lastName.capitalize()]:['Profile Name'];style:[fontSize=1.3rem;color=#453f3f]"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ],
    "__props__": {
        "id": "M177Y1z1g0Z3S1X3D6F5N2b189",
        "doc": "topbar",
        "creationDate": 1711031365219,
        "active": true,
        "createdByUserID": "41V7H078W8I8I780z1m9Y2E4Y2",
        "actions": {
            "mhmd": {
                "mergeList": "_.data.values()._():[().newList.push():[_.data]];().newList._():[_.number=_.number.toString().replaceItem():'.'];sortList()",
                "sortList": "().i='1';while():[().i<8]:[().newList._():[if():[_.number.0=().i.toString()]:[().mhmd.push():[_]]];().i++;().finalList.push():[().mhmd];().mhmd=:;];setSheet()",
                "getSheets": "search():[collection=sheet;docs=:'newAccountsCodesgdeowffoiuewfoiuf':'YNbAYae9WkxE2Ihnhzw6Z8avqI6Pn7Z9bYFhNJR0T6U3iV6E1MkiMzyuHMdj']:[if():[_.data]:[mergeList()]]",
                "setSheet": "().sheetData=[id=gen():40;name='hello from sheet';data=().finalList];save():[collection=sheet;data=().sheetData]:[loader.hide]",
                "_": "loader.show;().newList=:;getSheets()"
            },
            "toggleViewName": "if():[_.viewName;currentViewName:()!=_.viewName]:[currentViewName:()=_.viewName;():mainbody.update()]",
            "openNotificationBar": {
                "setPopupInfo": "createFormStack:().push():['searchbox'];searchBoxCustomInputs:()=settingsInfo:().notificationManager.searchEngineInputs;;generalPopup:()=[title='Notification';popupName=searchBoxPage;collection=notification];():generalPopup.update()::[():generalPopup.style():[visibility=visible;opacity=1]];loader.hide",
                "getNotification": "searchNotification():[session=getCookie():session]:[if():[_.success]:[searchBoxResults:()=_.data.values();setPopupInfo()]:[loader.hide;note():[text='No notification!';type=warning]]]",
                "_": "loader.show;getNotification()"
            },
            "#openNotificationBar": {
                "openNotificationDroplist": "droplistItems:()=[viewName=notificationBar;width=30rem;identifier=().id];():customDroplist.update()::[():customDroplist.style():[opacity=1;height=30rem];():customDroplist.position():[positioner=().id;placement=bottom];():notificationsCards.loader():show]",
                "updateSession": "search():[collection=session;find:[session=getCookie():session]]:[_.data.value().]",
                "getNotification": "searchNotification():[data=dueNotifications:()]:[if():[_.success]:[notifications:()=_.data.values();setDroplistItems();#updateSession()]:[note():[text='No notification!']]]",
                "setDroplistItems": "timer():[():notificationsCards.loader():hide;droplistItems:().notification=notifications:();():notificationBar.update()]:1000",
                "_": "openNotificationDroplist();getNotification()"
            },
            "ringBell": "timer():[style().transform=rotate(30deg)]:200;timer():[style().transform=rotate(-30deg)]:400;timer():[style().transform=rotate(30deg)]:600;timer():[style().transform=rotate(-30deg)]:800;timer():[style().transform=rotate(0deg)]:1000",
            "showArrow": "style():[backgroundColor=#ddd];if():[_.subList]:[2ndChild().style():[right=-1.88rem;width=1.8rem]]",
            "selectSideBarItem": {
                "unselectSideBarItems": "parent().children().():[style():[backgroundColor=transparent;borderColor=#00000000];1stChild().1stChild().1stChild().style().color=#453f3f;1stChild().2ndChild().1stChild().style().color=#453f3f]",
                "selectSideBarItem": "style():[backgroundColor=#ddd;borderColor=#fb3b1e];1stChild().1stChild().1stChild().style().color=#fb3b1e;1stChild().2ndChild().1stChild().style().color=#fb3b1e",
                "#selectSideBarItem": "2ndParent().style():[backgroundColor=#ddd;borderColor=#fb3b1e];1stChild().style().color=#fb3b1e",
                "_": "unselectSideBarItems();unselectListItems();selectSideBarItem()"
            },
            "ringring": "().timer._():[clearTimer():[_]];timer=_list;deg=30;range():0:1001:200._():[if():[_<=800]:[().timer.push():[timer():[style().transform='rotate('+().deg+'deg)';().deg*=[-1]]:[_]]]:[timer():[style().transform=rotate(0)]:[_]]]",
            "expandListItems": {
                "openSubList": "2ndParent().1stChild().style().backgroundColor=rgb(229, 229, 229);2ndParent().next().style().height=[_.subList.len()*4.5]+rem;style().transform=rotate(180deg);currentOpenList:()=2ndParent().next().id",
                "closeSubList": "2ndParent().1stChild().style().backgroundColor=transparent;2ndParent().next().style().height=0;style().transform=rotate(0);currentOpenList:()=none",
                "[object Object]": "if():[currentOpenList:()=none]:[openSubList()].elif():[currentOpenList:()=2ndParent().next().id]:[closeSubList()].elif():[currentOpenList:()!=2ndParent().next().id||currentOpenList:()!=none]:[closePrevOpenedSubList();openSubList()]",
                "closePrevOpenedSubList": "():[currentOpenList:()].style().height=0;():[currentOpenList:()].prev().2ndChild().1stChild().style().transform=rotate(0);if():[():[currentOpenList:()].prev().1stChild().1stChild().style().color!=rgb(251, 59, 30)]:[():[currentOpenList:()].prev().1stChild().style().backgroundColor=transparent]",
                "_": "if():[currentOpenList:()=none]:[openSubList()].elif():[currentOpenList:()=2ndParent().next().id]:[closeSubList()].elif():[currentOpenList:()!=2ndParent().next().id||currentOpenList:()!=none]:[closePrevOpenedSubList();openSubList()]"
            },
            "sidebarNavigationController": {
                "changeCurrentOpenManager": "currentManager:()=[_.managerInfo]:().clone();currentOpenManager:()=currentManager:().value();selectSideBarItem();if():[currentViewName:()!=customManager]:[toggleViewName()]:[():customManager.update()]",
                "toggleViewAction": "if():[_.viewName;currentViewName:()!=_.viewName]:[currentViewName:()=_.viewName;():mainbody.update()]",
                "_": "if():[_.managerInfo]:[changeCurrentOpenManager()]:[selectSideBarItem();toggleViewAction()];if():[_.action]:[[_.action]()]"
            },
            "unselectListItems": "data:().collection.sideBar.sidebarItems._():[():[_.identifier].children().():[1stChild().style():[backgroundColor=transparent;borderColor=#00000000];1stChild().1stChild().style().color=#453f3f;height=4.5rem]];accountingManager:()=''",
            "#getImg": "loader.show;getGallery()::[if():[_.success]:[Gallery:()=_.data;():galleryContainer.#getImgupdate():[loader.hide]]:[loader.hide;note():[text='No images to show']]] ",
            "eraseCollectionDocs": "search():[collection=_.collection]:[if():[_.data.value()]:[erase():[collection=__.collection;docs=_.data.keys()]]]",
            "profileDroplist": "droplist:[items=:Profile:Logout;align=right;style:[width=10rem];item.text.style:[justifyContent=center];preventDefault];[click:droplist?if():[droplist-txt:()=Logout]:[eraseCookie():session;route():login].elif():[droplist-txt:()=Branch]:[openBranchForm()]:[openProfileWindow()]]",
            "switchBranch": {
                "getCurrency": "search():[collection=currency;find:[branch=userData:().branch.find():[name=droplist-txt:()].id]]:[if():[_.data.value()]:[changeBranchInUserData();changeCurrencyInUserData();1stChild().txt()=droplist-txt:()]:[loader.hide;note():[text='No curency found!';danger]]]",
                "changeCurrencyInUserData": "userData:().currency=_.data.values();userData:().defaultCurrency=[id=_.data.values().find():[counter=1].id;value=_.data.values().find():[counter=1].code];delControllersGlobalVars()",
                "delControllersGlobalVars": "currentViewName:().del();currentManager:().del();currentOpenManager:().del();managersSearchResult:().del();():main.update()::[loader.hide]",
                "changeBranchInUserData": "userData:().currentBranch=userData:().branch.find():[name=droplist-txt:()].id",
                "_": "if():[userData:().branch.find():[name=droplist-txt:()].id!=userData:().currentBranch]:[loader.show;getCurrency()]"
            },
            "expandSidebar": {
                "collapseSidebar": "parent().style().width=4.5rem;1stChild().1stChild().1stChild().style().transform=rotate(180deg);().opened=false;parent().children().():[1stChild().2ndChild().style():[opacity=0;width=0]]",
                "expandSidebar": "parent().style():[width=17rem];1stChild().1stChild().1stChild().style().transform=rotate(0);().opened=true;parent().children().():[1stChild().2ndChild().style():[opacity=1;width=10rem]]",
                "_": "if():[!().opened]:[expandSidebar()]:[collapseSidebar()]"
            },
            "hideArrow": "style().backgroundColor=transparent;2ndChild().style():[right=0rem;width=0rem]",
            "selectListItem": "3rdParent().parent().children().():[1stChild().1stChild().style():[backgroundColor=transparent;borderColor=#00000000];grandChild().1stChild().style().color=#453f3f];unselectListItems();style():[backgroundColor=#ddd;borderColor=#fb3b1e];1stChild().style().color=#fb3b1e;2ndParent().prev().1stChild().style().backgroundColor=rgb(229, 229, 229)",
            "removeTransactions": {
                "_": "removeTransactionsDocs();eraseCollectionDocs():[collection=voucher];eraseCollectionDocs():[collection=invoice]",
                "removeTransactionsDocs": "eraseCollectionDocs():[collection=transaction]:[removeLastBalanceKey()]",
                "removeLastBalanceKey": "search():[collection=account]:[_.data.values()._():[_.lastBalance.del()];save():[collection=account;data=_.data.values()]]"
            },
            "clearCollections": "eraseCollectionDocs():[collection=analysis];eraseCollectionDocs():[collection=account];eraseCollectionDocs():[collection=transaction];eraseCollectionDocs():[collection=counter];eraseCollectionDocs():[collection=voucher];eraseCollectionDocs():[collection=invoice]"
        },
        "collapsed": [
            {
                "path": [
                    "children",
                    0,
                    "children",
                    1,
                    "children",
                    3,
                    "children"
                ]
            },
            {
                "path": [
                    "expandListItems"
                ]
            },
            {
                "path": [
                    "expandSidebar"
                ]
            },
            {
                "path": [
                    "openNotificationBar"
                ]
            },
            {
                "path": [
                    "selectSideBarItem"
                ]
            },
            {
                "path": [
                    "sidebarNavigationController"
                ]
            },
            {
                "path": [
                    "switchBranch"
                ]
            },
            {
                "path": [
                    "children",
                    0,
                    "children",
                    1,
                    "children",
                    0
                ]
            },
            {
                "path": [
                    "children",
                    0,
                    "children",
                    1,
                    "children",
                    6
                ]
            },
            {
                "path": [
                    "children",
                    0,
                    "children",
                    1,
                    "children",
                    7
                ]
            },
            {
                "path": [
                    "children",
                    0,
                    "children",
                    1,
                    "children",
                    8
                ]
            },
            {
                "path": [
                    "children",
                    0,
                    "children",
                    1,
                    "children",
                    5
                ]
            },
            {
                "path": [
                    "children",
                    0,
                    "children",
                    1,
                    "children",
                    2,
                    "children",
                    0
                ]
            },
            {
                "path": [
                    "#openNotificationBar"
                ]
            },
            {
                "path": [
                    "mhmd"
                ]
            },
            {
                "path": [
                    "removeTransactions"
                ]
            }
        ],
        "comments": [
            {
                "note": "image",
                "path": [
                    "children",
                    0,
                    "children",
                    0
                ]
            },
            {
                "note": "Left TopBar view",
                "path": [
                    "children",
                    0,
                    "children",
                    1
                ]
            },
            {
                "note": " falsed",
                "path": [
                    "children",
                    0,
                    "children",
                    1,
                    "children",
                    0
                ]
            },
            {
                "note": "search icon ",
                "path": [
                    "children",
                    0,
                    "children",
                    1,
                    "children",
                    1
                ]
            },
            {
                "note": "bell",
                "path": [
                    "children",
                    0,
                    "children",
                    1,
                    "children",
                    2
                ]
            },
            {
                "note": "line",
                "path": [
                    "children",
                    0,
                    "children",
                    1,
                    "children",
                    3
                ]
            },
            {
                "note": "money false",
                "path": [
                    "children",
                    0,
                    "children",
                    1,
                    "children",
                    4
                ]
            },
            {
                "note": "line",
                "path": [
                    "children",
                    0,
                    "children",
                    1,
                    "children",
                    5
                ]
            },
            {
                "note": "branches",
                "path": [
                    "children",
                    0,
                    "children",
                    1,
                    "children",
                    6
                ]
            },
            {
                "note": "line",
                "path": [
                    "children",
                    0,
                    "children",
                    1,
                    "children",
                    7
                ]
            },
            {
                "note": "profile",
                "path": [
                    "children",
                    0,
                    "children",
                    1,
                    "children",
                    8
                ]
            }
        ],
        "dirPath": [],
        "version": 0,
        "counter": 55,
        "secure": false,
        "chunk": "chunk1",
        "collection": "view"
    }
}